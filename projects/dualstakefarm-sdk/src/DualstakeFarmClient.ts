/* eslint-disable */
/**
 * This file was automatically generated by @algorandfoundation/algokit-client-generator.
 * DO NOT MODIFY IT BY HAND.
 * requires: @algorandfoundation/algokit-utils: ^7
 */
import { AlgorandClientInterface } from '@algorandfoundation/algokit-utils/types/algorand-client-interface'
import { ABIReturn, AppReturn, SendAppTransactionResult } from '@algorandfoundation/algokit-utils/types/app'
import { Arc56Contract, getArc56ReturnValue, getABIStructFromABITuple } from '@algorandfoundation/algokit-utils/types/app-arc56'
import {
  AppClient as _AppClient,
  AppClientMethodCallParams,
  AppClientParams,
  AppClientBareCallParams,
  CallOnComplete,
  AppClientCompilationParams,
  ResolveAppClientByCreatorAndName,
  ResolveAppClientByNetwork,
  CloneAppClientParams,
} from '@algorandfoundation/algokit-utils/types/app-client'
import { AppFactory as _AppFactory, AppFactoryAppClientParams, AppFactoryResolveAppClientByCreatorAndNameParams, AppFactoryDeployParams, AppFactoryParams, CreateSchema } from '@algorandfoundation/algokit-utils/types/app-factory'
import { TransactionComposer, AppCallMethodCall, AppMethodCallTransactionArgument, SimulateOptions, RawSimulateOptions, SkipSignaturesSimulateOptions } from '@algorandfoundation/algokit-utils/types/composer'
import { SendParams, SendSingleTransactionResult, SendAtomicTransactionComposerResults } from '@algorandfoundation/algokit-utils/types/transaction'
import { Address, encodeAddress, modelsv2, OnApplicationComplete, Transaction, TransactionSigner } from 'algosdk'
import SimulateResponse = modelsv2.SimulateResponse

export const APP_SPEC: Arc56Contract = {"arcs":[],"name":"DualstakeFarm","structs":{"AlgoCost":[{"name":"algoCost","type":"uint64"},{"name":"optinCost","type":"uint64"},{"name":"boxCost","type":"uint64"},{"name":"farmCost","type":"uint64"}],"AlgoCostAndMaxDuration":[{"name":"algoCost","type":"uint64"},{"name":"optinCost","type":"uint64"},{"name":"boxCost","type":"uint64"},{"name":"farmCost","type":"uint64"},{"name":"maxDuration","type":"uint64"}],"FarmState":[{"name":"farmAsset","type":"uint64"},{"name":"amountPerBlock","type":"uint64"},{"name":"remainingDurationBlocks","type":"uint64"},{"name":"lastBlockPaid","type":"uint64"}]},"methods":[{"name":"get_algo_cost","args":[{"name":"recipient_app","type":"application"},{"name":"farm_asset","type":"asset"},{"name":"duration_blocks","type":"uint64"}],"returns":{"type":"(uint64,uint64,uint64,uint64)","struct":"AlgoCost"},"events":[],"readonly":true,"actions":{"create":[],"call":["NoOp"]}},{"name":"get_algo_cost_and_max_duration","args":[{"name":"recipient_app","type":"application"},{"name":"farm_asset","type":"asset"},{"name":"duration_blocks","type":"uint64"}],"returns":{"type":"(uint64,uint64,uint64,uint64,uint64)","struct":"AlgoCostAndMaxDuration"},"events":[],"readonly":true,"actions":{"create":[],"call":["NoOp"]}},{"name":"create_farm","args":[{"name":"recipient_app","type":"application"},{"name":"farm_asset","type":"asset"},{"name":"amount_per_block","type":"uint64"},{"name":"duration_blocks","type":"uint64"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"extend_duration_blocks","args":[{"name":"recipient_app","type":"application"},{"name":"duration_blocks","type":"uint64"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"extend_amount_per_block","args":[{"name":"recipient_app","type":"application"},{"name":"amount_per_block","type":"uint64"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"payout","args":[{"name":"recipient_app","type":"application"},{"name":"block_round","type":"uint64"},{"name":"call_swap","type":"bool"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"noop","args":[],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"withdraw_fees","args":[{"name":"amount","type":"uint64"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"optout","args":[{"name":"asset","type":"asset"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"update_max_duration_days","args":[{"name":"max_duration","type":"uint64"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"update_min_duration_blocks","args":[{"name":"min_duration","type":"uint64"}],"returns":{"type":"void"},"events":[],"actions":{"create":[],"call":["NoOp"]}},{"name":"get_state","args":[{"name":"recipient_app","type":"application"}],"returns":{"type":"(uint64,uint64,uint64,uint64)","struct":"FarmState"},"events":[],"readonly":true,"actions":{"create":[],"call":["NoOp"]}},{"name":"log_states","args":[{"name":"box_names","type":"uint64[]"}],"returns":{"type":"void"},"events":[],"readonly":true,"actions":{"create":[],"call":["NoOp"]}},{"name":"log_block_proposers","args":[{"name":"start_round","type":"uint64"},{"name":"end_round","type":"uint64"}],"returns":{"type":"void"},"events":[],"readonly":true,"actions":{"create":[],"call":["NoOp"]}}],"state":{"schema":{"global":{"ints":40,"bytes":24},"local":{"ints":0,"bytes":0}},"keys":{"global":{"manager":{"key":"bWFuYWdlcg==","keyType":"AVMString","valueType":"AVMBytes"},"max_duration_days":{"key":"bWF4X2R1cmF0aW9uX2RheXM=","keyType":"AVMString","valueType":"AVMUint64"},"min_duration_blocks":{"key":"bWluX2R1cmF0aW9uX2Jsb2Nrcw==","keyType":"AVMString","valueType":"AVMUint64"},"txn_fuel":{"key":"dHhuX2Z1ZWw=","keyType":"AVMString","valueType":"AVMUint64"}},"local":{},"box":{}},"maps":{"global":{},"local":{},"box":{}}},"source":{"approval":"I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBzbWFydF9jb250cmFjdHMuZHVhbHN0YWtlZmFybS5jb250cmFjdC5EdWFsc3Rha2VGYXJtLl9fYWxnb3B5X2VudHJ5cG9pbnRfd2l0aF9pbml0KCkgLT4gdWludDY0OgptYWluOgogICAgaW50Y2Jsb2NrIDEgMCA0IDMwCiAgICBieXRlY2Jsb2NrICJ0eG5fZnVlbCIgIm1hbmFnZXIiIDB4MTUxZjdjNzUgMHggIkVSUjpOTyBGQVJNIiAibWF4X2R1cmF0aW9uX2RheXMiICJtaW5fZHVyYXRpb25fYmxvY2tzIiAweDAwMDAwMDAwMDAwMDAwMDAKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjcwCiAgICAvLyBzZWxmLm1hbmFnZXIgPSBUeG4uc2VuZGVyCiAgICBieXRlY18xIC8vICJtYW5hZ2VyIgogICAgdHhuIFNlbmRlcgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjcyCiAgICAvLyBzZWxmLnR4bl9mdWVsID0gVUludDY0KDApCiAgICBieXRlY18wIC8vICJ0eG5fZnVlbCIKICAgIGludGNfMSAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NzMKICAgIC8vIHNlbGYubWF4X2R1cmF0aW9uX2RheXMgPSBVSW50NjQoREVGQVVMVF9NQVhfRFVSQVRJT05fREFZUykKICAgIGJ5dGVjIDUgLy8gIm1heF9kdXJhdGlvbl9kYXlzIgogICAgcHVzaGludCA0NSAvLyA0NQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5Ojc0CiAgICAvLyBzZWxmLm1pbl9kdXJhdGlvbl9ibG9ja3MgPSBVSW50NjQoREVGQVVMVF9NSU5fRFVSQVRJT05fQkxPQ0tTKQogICAgYnl0ZWMgNiAvLyAibWluX2R1cmF0aW9uX2Jsb2NrcyIKICAgIGludGNfMyAvLyAzMAogICAgYXBwX2dsb2JhbF9wdXQKCm1haW5fYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NjQtNjgKICAgIC8vIGNsYXNzIER1YWxzdGFrZUZhcm0oCiAgICAvLyAgICAgQVJDNENvbnRyYWN0LAogICAgLy8gICAgIGF2bV92ZXJzaW9uPTExLAogICAgLy8gICAgIHN0YXRlX3RvdGFscz1TdGF0ZVRvdGFscyhnbG9iYWxfdWludHM9NDAsIGdsb2JhbF9ieXRlcz0yNCksCiAgICAvLyApOgogICAgdHhuIE51bUFwcEFyZ3MKICAgIGJ6IG1haW5fYmFyZV9yb3V0aW5nQDE5CiAgICBwdXNoYnl0ZXNzIDB4ODUwZTNhZmIgMHg3NTlmYjlhYSAweDc0NTg1ZGNlIDB4MDI5MGI4MjAgMHgwOTI4OTdkMyAweDlhMTRhODRmIDB4ZTgzYTg3YWIgMHgwZDEzMTc1MSAweDdjY2JlNzI2IDB4ZTlkODI3Y2MgMHhlMDgwNDhmYyAweDE1ZDY5ZWZjIDB4YzhhMDY1NGIgMHhkMjk5ZjJhMCAvLyBtZXRob2QgImdldF9hbGdvX2Nvc3QoYXBwbGljYXRpb24sYXNzZXQsdWludDY0KSh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRfYWxnb19jb3N0X2FuZF9tYXhfZHVyYXRpb24oYXBwbGljYXRpb24sYXNzZXQsdWludDY0KSh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiY3JlYXRlX2Zhcm0oYXBwbGljYXRpb24sYXNzZXQsdWludDY0LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJleHRlbmRfZHVyYXRpb25fYmxvY2tzKGFwcGxpY2F0aW9uLHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJleHRlbmRfYW1vdW50X3Blcl9ibG9jayhhcHBsaWNhdGlvbix1aW50NjQpdm9pZCIsIG1ldGhvZCAicGF5b3V0KGFwcGxpY2F0aW9uLHVpbnQ2NCxib29sKXZvaWQiLCBtZXRob2QgIm5vb3AoKXZvaWQiLCBtZXRob2QgIndpdGhkcmF3X2ZlZXModWludDY0KXZvaWQiLCBtZXRob2QgIm9wdG91dChhc3NldCl2b2lkIiwgbWV0aG9kICJ1cGRhdGVfbWF4X2R1cmF0aW9uX2RheXModWludDY0KXZvaWQiLCBtZXRob2QgInVwZGF0ZV9taW5fZHVyYXRpb25fYmxvY2tzKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJnZXRfc3RhdGUoYXBwbGljYXRpb24pKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImxvZ19zdGF0ZXModWludDY0W10pdm9pZCIsIG1ldGhvZCAibG9nX2Jsb2NrX3Byb3Bvc2Vycyh1aW50NjQsdWludDY0KXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBtYWluX2dldF9hbGdvX2Nvc3Rfcm91dGVANSBtYWluX2dldF9hbGdvX2Nvc3RfYW5kX21heF9kdXJhdGlvbl9yb3V0ZUA2IG1haW5fY3JlYXRlX2Zhcm1fcm91dGVANyBtYWluX2V4dGVuZF9kdXJhdGlvbl9ibG9ja3Nfcm91dGVAOCBtYWluX2V4dGVuZF9hbW91bnRfcGVyX2Jsb2NrX3JvdXRlQDkgbWFpbl9wYXlvdXRfcm91dGVAMTAgbWFpbl9ub29wX3JvdXRlQDExIG1haW5fd2l0aGRyYXdfZmVlc19yb3V0ZUAxMiBtYWluX29wdG91dF9yb3V0ZUAxMyBtYWluX3VwZGF0ZV9tYXhfZHVyYXRpb25fZGF5c19yb3V0ZUAxNCBtYWluX3VwZGF0ZV9taW5fZHVyYXRpb25fYmxvY2tzX3JvdXRlQDE1IG1haW5fZ2V0X3N0YXRlX3JvdXRlQDE2IG1haW5fbG9nX3N0YXRlc19yb3V0ZUAxNyBtYWluX2xvZ19ibG9ja19wcm9wb3NlcnNfcm91dGVAMTgKCm1haW5fYWZ0ZXJfaWZfZWxzZUAyMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjY0LTY4CiAgICAvLyBjbGFzcyBEdWFsc3Rha2VGYXJtKAogICAgLy8gICAgIEFSQzRDb250cmFjdCwKICAgIC8vICAgICBhdm1fdmVyc2lvbj0xMSwKICAgIC8vICAgICBzdGF0ZV90b3RhbHM9U3RhdGVUb3RhbHMoZ2xvYmFsX3VpbnRzPTQwLCBnbG9iYWxfYnl0ZXM9MjQpLAogICAgLy8gKToKICAgIGludGNfMSAvLyAwCiAgICByZXR1cm4KCm1haW5fbG9nX2Jsb2NrX3Byb3Bvc2Vyc19yb3V0ZUAxODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM5OQogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo2NC02OAogICAgLy8gY2xhc3MgRHVhbHN0YWtlRmFybSgKICAgIC8vICAgICBBUkM0Q29udHJhY3QsCiAgICAvLyAgICAgYXZtX3ZlcnNpb249MTEsCiAgICAvLyAgICAgc3RhdGVfdG90YWxzPVN0YXRlVG90YWxzKGdsb2JhbF91aW50cz00MCwgZ2xvYmFsX2J5dGVzPTI0KSwKICAgIC8vICk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozOTkKICAgIC8vIEBhYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGNhbGxzdWIgbG9nX2Jsb2NrX3Byb3Bvc2VycwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9sb2dfc3RhdGVzX3JvdXRlQDE3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzkwCiAgICAvLyBAYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjY0LTY4CiAgICAvLyBjbGFzcyBEdWFsc3Rha2VGYXJtKAogICAgLy8gICAgIEFSQzRDb250cmFjdCwKICAgIC8vICAgICBhdm1fdmVyc2lvbj0xMSwKICAgIC8vICAgICBzdGF0ZV90b3RhbHM9U3RhdGVUb3RhbHMoZ2xvYmFsX3VpbnRzPTQwLCBnbG9iYWxfYnl0ZXM9MjQpLAogICAgLy8gKToKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM5MAogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgY2FsbHN1YiBsb2dfc3RhdGVzCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2dldF9zdGF0ZV9yb3V0ZUAxNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM4NgogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo2NC02OAogICAgLy8gY2xhc3MgRHVhbHN0YWtlRmFybSgKICAgIC8vICAgICBBUkM0Q29udHJhY3QsCiAgICAvLyAgICAgYXZtX3ZlcnNpb249MTEsCiAgICAvLyAgICAgc3RhdGVfdG90YWxzPVN0YXRlVG90YWxzKGdsb2JhbF91aW50cz00MCwgZ2xvYmFsX2J5dGVzPTI0KSwKICAgIC8vICk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hcyBBcHBsaWNhdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM4NgogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgY2FsbHN1YiBnZXRfc3RhdGUKICAgIGJ5dGVjXzIgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlX21pbl9kdXJhdGlvbl9ibG9ja3Nfcm91dGVAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozODEKICAgIC8vIEBhYmltZXRob2QKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NjQtNjgKICAgIC8vIGNsYXNzIER1YWxzdGFrZUZhcm0oCiAgICAvLyAgICAgQVJDNENvbnRyYWN0LAogICAgLy8gICAgIGF2bV92ZXJzaW9uPTExLAogICAgLy8gICAgIHN0YXRlX3RvdGFscz1TdGF0ZVRvdGFscyhnbG9iYWxfdWludHM9NDAsIGdsb2JhbF9ieXRlcz0yNCksCiAgICAvLyApOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzgxCiAgICAvLyBAYWJpbWV0aG9kCiAgICBjYWxsc3ViIHVwZGF0ZV9taW5fZHVyYXRpb25fYmxvY2tzCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX3VwZGF0ZV9tYXhfZHVyYXRpb25fZGF5c19yb3V0ZUAxNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM3NgogICAgLy8gQGFiaW1ldGhvZAogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo2NC02OAogICAgLy8gY2xhc3MgRHVhbHN0YWtlRmFybSgKICAgIC8vICAgICBBUkM0Q29udHJhY3QsCiAgICAvLyAgICAgYXZtX3ZlcnNpb249MTEsCiAgICAvLyAgICAgc3RhdGVfdG90YWxzPVN0YXRlVG90YWxzKGdsb2JhbF91aW50cz00MCwgZ2xvYmFsX2J5dGVzPTI0KSwKICAgIC8vICk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozNzYKICAgIC8vIEBhYmltZXRob2QKICAgIGNhbGxzdWIgdXBkYXRlX21heF9kdXJhdGlvbl9kYXlzCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX29wdG91dF9yb3V0ZUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM2NQogICAgLy8gQGFiaW1ldGhvZAogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo2NC02OAogICAgLy8gY2xhc3MgRHVhbHN0YWtlRmFybSgKICAgIC8vICAgICBBUkM0Q29udHJhY3QsCiAgICAvLyAgICAgYXZtX3ZlcnNpb249MTEsCiAgICAvLyAgICAgc3RhdGVfdG90YWxzPVN0YXRlVG90YWxzKGdsb2JhbF91aW50cz00MCwgZ2xvYmFsX2J5dGVzPTI0KSwKICAgIC8vICk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hcyBBc3NldHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM2NQogICAgLy8gQGFiaW1ldGhvZAogICAgY2FsbHN1YiBvcHRvdXQKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fd2l0aGRyYXdfZmVlc19yb3V0ZUAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM1MQogICAgLy8gQGFiaW1ldGhvZAogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo2NC02OAogICAgLy8gY2xhc3MgRHVhbHN0YWtlRmFybSgKICAgIC8vICAgICBBUkM0Q29udHJhY3QsCiAgICAvLyAgICAgYXZtX3ZlcnNpb249MTEsCiAgICAvLyAgICAgc3RhdGVfdG90YWxzPVN0YXRlVG90YWxzKGdsb2JhbF91aW50cz00MCwgZ2xvYmFsX2J5dGVzPTI0KSwKICAgIC8vICk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozNTEKICAgIC8vIEBhYmltZXRob2QKICAgIGNhbGxzdWIgd2l0aGRyYXdfZmVlcwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9ub29wX3JvdXRlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzQ3CiAgICAvLyBAYWJpbWV0aG9kCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fcGF5b3V0X3JvdXRlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mjc4CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NjQtNjgKICAgIC8vIGNsYXNzIER1YWxzdGFrZUZhcm0oCiAgICAvLyAgICAgQVJDNENvbnRyYWN0LAogICAgLy8gICAgIGF2bV92ZXJzaW9uPTExLAogICAgLy8gICAgIHN0YXRlX3RvdGFscz1TdGF0ZVRvdGFscyhnbG9iYWxfdWludHM9NDAsIGdsb2JhbF9ieXRlcz0yNCksCiAgICAvLyApOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYXMgQXBwbGljYXRpb25zCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNzgKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBwYXlvdXQKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fZXh0ZW5kX2Ftb3VudF9wZXJfYmxvY2tfcm91dGVAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI1NAogICAgLy8gQGFiaW1ldGhvZAogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo2NC02OAogICAgLy8gY2xhc3MgRHVhbHN0YWtlRmFybSgKICAgIC8vICAgICBBUkM0Q29udHJhY3QsCiAgICAvLyAgICAgYXZtX3ZlcnNpb249MTEsCiAgICAvLyAgICAgc3RhdGVfdG90YWxzPVN0YXRlVG90YWxzKGdsb2JhbF91aW50cz00MCwgZ2xvYmFsX2J5dGVzPTI0KSwKICAgIC8vICk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hcyBBcHBsaWNhdGlvbnMKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI1NAogICAgLy8gQGFiaW1ldGhvZAogICAgY2FsbHN1YiBleHRlbmRfYW1vdW50X3Blcl9ibG9jawogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9leHRlbmRfZHVyYXRpb25fYmxvY2tzX3JvdXRlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMTUKICAgIC8vIEBhYmltZXRob2QKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NjQtNjgKICAgIC8vIGNsYXNzIER1YWxzdGFrZUZhcm0oCiAgICAvLyAgICAgQVJDNENvbnRyYWN0LAogICAgLy8gICAgIGF2bV92ZXJzaW9uPTExLAogICAgLy8gICAgIHN0YXRlX3RvdGFscz1TdGF0ZVRvdGFscyhnbG9iYWxfdWludHM9NDAsIGdsb2JhbF9ieXRlcz0yNCksCiAgICAvLyApOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYXMgQXBwbGljYXRpb25zCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMTUKICAgIC8vIEBhYmltZXRob2QKICAgIGNhbGxzdWIgZXh0ZW5kX2R1cmF0aW9uX2Jsb2NrcwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVfZmFybV9yb3V0ZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTYyCiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NjQtNjgKICAgIC8vIGNsYXNzIER1YWxzdGFrZUZhcm0oCiAgICAvLyAgICAgQVJDNENvbnRyYWN0LAogICAgLy8gICAgIGF2bV92ZXJzaW9uPTExLAogICAgLy8gICAgIHN0YXRlX3RvdGFscz1TdGF0ZVRvdGFscyhnbG9iYWxfdWludHM9NDAsIGdsb2JhbF9ieXRlcz0yNCksCiAgICAvLyApOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYXMgQXBwbGljYXRpb25zCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hcyBBc3NldHMKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE2MgogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIGNyZWF0ZV9mYXJtCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2dldF9hbGdvX2Nvc3RfYW5kX21heF9kdXJhdGlvbl9yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTEzCiAgICAvLyBAYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjY0LTY4CiAgICAvLyBjbGFzcyBEdWFsc3Rha2VGYXJtKAogICAgLy8gICAgIEFSQzRDb250cmFjdCwKICAgIC8vICAgICBhdm1fdmVyc2lvbj0xMSwKICAgIC8vICAgICBzdGF0ZV90b3RhbHM9U3RhdGVUb3RhbHMoZ2xvYmFsX3VpbnRzPTQwLCBnbG9iYWxfYnl0ZXM9MjQpLAogICAgLy8gKToKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmFzIEFwcGxpY2F0aW9ucwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgdHhuYXMgQXNzZXRzCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxMTMKICAgIC8vIEBhYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGNhbGxzdWIgZ2V0X2FsZ29fY29zdF9hbmRfbWF4X2R1cmF0aW9uCiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2dldF9hbGdvX2Nvc3Rfcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEwNwogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo2NC02OAogICAgLy8gY2xhc3MgRHVhbHN0YWtlRmFybSgKICAgIC8vICAgICBBUkM0Q29udHJhY3QsCiAgICAvLyAgICAgYXZtX3ZlcnNpb249MTEsCiAgICAvLyAgICAgc3RhdGVfdG90YWxzPVN0YXRlVG90YWxzKGdsb2JhbF91aW50cz00MCwgZ2xvYmFsX2J5dGVzPTI0KSwKICAgIC8vICk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hcyBBcHBsaWNhdGlvbnMKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4bmFzIEFzc2V0cwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTA3CiAgICAvLyBAYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBjYWxsc3ViIGdldF9hbGdvX2Nvc3QKICAgIGJ5dGVjXzIgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fYmFyZV9yb3V0aW5nQDE5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NjQtNjgKICAgIC8vIGNsYXNzIER1YWxzdGFrZUZhcm0oCiAgICAvLyAgICAgQVJDNENvbnRyYWN0LAogICAgLy8gICAgIGF2bV92ZXJzaW9uPTExLAogICAgLy8gICAgIHN0YXRlX3RvdGFscz1TdGF0ZVRvdGFscyhnbG9iYWxfdWludHM9NDAsIGdsb2JhbF9ieXRlcz0yNCksCiAgICAvLyApOgogICAgdHhuIE9uQ29tcGxldGlvbgogICAgc3dpdGNoIG1haW5fX19hbGdvcHlfZGVmYXVsdF9jcmVhdGVAMjIgbWFpbl9hZnRlcl9pZl9lbHNlQDIzIG1haW5fYWZ0ZXJfaWZfZWxzZUAyMyBtYWluX2FmdGVyX2lmX2Vsc2VAMjMgbWFpbl91cGRhdGVAMjAgbWFpbl9kZWxldGVAMjEKICAgIGIgbWFpbl9hZnRlcl9pZl9lbHNlQDIzCgptYWluX2RlbGV0ZUAyMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjgwCiAgICAvLyBAYXJjNC5iYXJlbWV0aG9kKGFsbG93X2FjdGlvbnM9KCJEZWxldGVBcHBsaWNhdGlvbiIsKSkKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBkZWxldGUKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NzYKICAgIC8vIEBhcmM0LmJhcmVtZXRob2QoYWxsb3dfYWN0aW9ucz0oIlVwZGF0ZUFwcGxpY2F0aW9uIiwpKQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBjYWxsc3ViIHVwZGF0ZQogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9fX2FsZ29weV9kZWZhdWx0X2NyZWF0ZUAyMjoKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAhCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIGNyZWF0aW5nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmNvbW1vbi5zZW5kLmF4ZmVyKGFzc2V0OiB1aW50NjQsIHJlY2VpdmVyOiBieXRlcywgYW1vdW50OiB1aW50NjQsIGZlZTogdWludDY0KSAtPiB2b2lkOgpheGZlcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vc2VuZC5weToxOC0xOQogICAgLy8gQHN1YnJvdXRpbmUKICAgIC8vIGRlZiBheGZlcihhc3NldDogQXNzZXQsIHJlY2VpdmVyOiBBY2NvdW50LCBhbW91bnQ6IFVJbnQ2NCwgZmVlOiBVSW50NjQpIC0+IE5vbmU6CiAgICBwcm90byA0IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vc2VuZC5weToyMC0yMgogICAgLy8gaXR4bi5Bc3NldFRyYW5zZmVyKAogICAgLy8gICAgIHhmZXJfYXNzZXQ9YXNzZXQsIGFzc2V0X3JlY2VpdmVyPXJlY2VpdmVyLCBhc3NldF9hbW91bnQ9YW1vdW50LCBmZWU9ZmVlCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGZyYW1lX2RpZyAtMwogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBmcmFtZV9kaWcgLTQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3NlbmQucHk6MjAKICAgIC8vIGl0eG4uQXNzZXRUcmFuc2ZlcigKICAgIGludGNfMiAvLyBheGZlcgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgZnJhbWVfZGlnIC0xCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9zZW5kLnB5OjIwLTIyCiAgICAvLyBpdHhuLkFzc2V0VHJhbnNmZXIoCiAgICAvLyAgICAgeGZlcl9hc3NldD1hc3NldCwgYXNzZXRfcmVjZWl2ZXI9cmVjZWl2ZXIsIGFzc2V0X2Ftb3VudD1hbW91bnQsIGZlZT1mZWUKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3NlbmQucHk6MjMKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmNvbW1vbi5zZW5kLmFsZ29fcGF5KHJlY2VpdmVyOiBieXRlcywgYW1vdW50OiB1aW50NjQsIGZlZTogdWludDY0KSAtPiB2b2lkOgphbGdvX3BheToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vc2VuZC5weTozOC0zOQogICAgLy8gQHN1YnJvdXRpbmUKICAgIC8vIGRlZiBhbGdvX3BheShyZWNlaXZlcjogQWNjb3VudCwgYW1vdW50OiBVSW50NjQsIGZlZTogVUludDY0KSAtPiBOb25lOgogICAgcHJvdG8gMyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3NlbmQucHk6NDAKICAgIC8vIGl0eG4uUGF5bWVudChyZWNlaXZlcj1yZWNlaXZlciwgYW1vdW50PWFtb3VudCwgZmVlPWZlZSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGZyYW1lX2RpZyAtMwogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgaW50Y18wIC8vIHBheQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgZnJhbWVfZGlnIC0xCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vc2VuZC5weTo0MQogICAgLy8gcmV0dXJuCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuY29tbW9uLnZhbGlkYXRlLmF4ZmVyX2Ftb3VudF9leGFjdChheGZlcl90eG5faWQ6IHVpbnQ2NCwgZXhwZWN0ZWRfYXNzZXQ6IHVpbnQ2NCwgZXhwZWN0ZWRfYW1vdW50OiB1aW50NjQpIC0+IHZvaWQ6CmF4ZmVyX2Ftb3VudF9leGFjdDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vdmFsaWRhdGUucHk6MjYtMjkKICAgIC8vIEBzdWJyb3V0aW5lCiAgICAvLyBkZWYgYXhmZXJfYW1vdW50X2V4YWN0KAogICAgLy8gICAgIGF4ZmVyX3R4bl9pZDogVUludDY0LCBleHBlY3RlZF9hc3NldDogQXNzZXQsIGV4cGVjdGVkX2Ftb3VudDogVUludDY0CiAgICAvLyApIC0+IE5vbmU6CiAgICBwcm90byAzIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vdmFsaWRhdGUucHk6MTcKICAgIC8vIGF4ZmVyX3R4biA9IGd0eG4uQXNzZXRUcmFuc2ZlclRyYW5zYWN0aW9uKGF4ZmVyX3R4bl9pZHgpCiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzIgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weToxOAogICAgLy8gY3VzdG9tLmVuc3VyZShheGZlcl90eG4ueGZlcl9hc3NldCA9PSBleHBlY3RlZF9hc3NldCwgUygiRVJSOkFYRkVSIElEIikpCiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIFhmZXJBc3NldAogICAgZnJhbWVfZGlnIC0yCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTEKICAgIC8vIGlmIG5vdCBjb25kOgogICAgYm56IGF4ZmVyX2Ftb3VudF9leGFjdF9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vdmFsaWRhdGUucHk6MTgKICAgIC8vIGN1c3RvbS5lbnN1cmUoYXhmZXJfdHhuLnhmZXJfYXNzZXQgPT0gZXhwZWN0ZWRfYXNzZXQsIFMoIkVSUjpBWEZFUiBJRCIpKQogICAgcHVzaGJ5dGVzICJFUlI6QVhGRVIgSUQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMgogICAgLy8gbG9nKG1zZykKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTMKICAgIC8vIG9wLmVycigpCiAgICBlcnIKCmF4ZmVyX2Ftb3VudF9leGFjdF9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3ZhbGlkYXRlLnB5OjIwCiAgICAvLyBheGZlcl90eG4uYXNzZXRfcmVjZWl2ZXIgPT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMQogICAgLy8gaWYgbm90IGNvbmQ6CiAgICBibnogYXhmZXJfYW1vdW50X2V4YWN0X2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weToyMQogICAgLy8gUygiRVJSOkFYRkVSIFJDViIpLAogICAgcHVzaGJ5dGVzICJFUlI6QVhGRVIgUkNWIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTIKICAgIC8vIGxvZyhtc2cpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEzCiAgICAvLyBvcC5lcnIoKQogICAgZXJyCgpheGZlcl9hbW91bnRfZXhhY3RfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weToyMwogICAgLy8gcmV0dXJuIGF4ZmVyX3R4bi5hc3NldF9hbW91bnQKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vdmFsaWRhdGUucHk6MzEKICAgIC8vIGF4ZmVyKGF4ZmVyX3R4bl9pZCwgZXhwZWN0ZWRfYXNzZXQpID49IGV4cGVjdGVkX2Ftb3VudCwgUygiRVJSOkFYRkVSIEFNVCIpCiAgICBmcmFtZV9kaWcgLTEKICAgID49CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMQogICAgLy8gaWYgbm90IGNvbmQ6CiAgICBibnogYXhmZXJfYW1vdW50X2V4YWN0X2FmdGVyX2lmX2Vsc2VAMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vdmFsaWRhdGUucHk6MzEKICAgIC8vIGF4ZmVyKGF4ZmVyX3R4bl9pZCwgZXhwZWN0ZWRfYXNzZXQpID49IGV4cGVjdGVkX2Ftb3VudCwgUygiRVJSOkFYRkVSIEFNVCIpCiAgICBwdXNoYnl0ZXMgIkVSUjpBWEZFUiBBTVQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMgogICAgLy8gbG9nKG1zZykKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTMKICAgIC8vIG9wLmVycigpCiAgICBlcnIKCmF4ZmVyX2Ftb3VudF9leGFjdF9hZnRlcl9pZl9lbHNlQDExOgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmNvbW1vbi52YWxpZGF0ZS5wYXltZW50X2Ftb3VudF9leGFjdChwYXltZW50X3R4bl9pZHg6IHVpbnQ2NCwgZXhwZWN0ZWRfYW1vdW50OiB1aW50NjQpIC0+IHZvaWQ6CnBheW1lbnRfYW1vdW50X2V4YWN0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weTo1MC01MQogICAgLy8gQHN1YnJvdXRpbmUKICAgIC8vIGRlZiBwYXltZW50X2Ftb3VudF9leGFjdChwYXltZW50X3R4bl9pZHg6IFVJbnQ2NCwgZXhwZWN0ZWRfYW1vdW50OiBVSW50NjQpIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vdmFsaWRhdGUucHk6MzcKICAgIC8vIHBheV90eG4gPSBndHhuLlBheW1lbnRUcmFuc2FjdGlvbih0eG5faWR4KQogICAgZnJhbWVfZGlnIC0yCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18wIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weTozOQogICAgLy8gcGF5X3R4bi5yZWNlaXZlciA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLAogICAgZnJhbWVfZGlnIC0yCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMQogICAgLy8gaWYgbm90IGNvbmQ6CiAgICBibnogcGF5bWVudF9hbW91bnRfZXhhY3RfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3ZhbGlkYXRlLnB5OjQwCiAgICAvLyBTKCJFUlI6UEFZIFJDViIpLAogICAgcHVzaGJ5dGVzICJFUlI6UEFZIFJDViIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEyCiAgICAvLyBsb2cobXNnKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMwogICAgLy8gb3AuZXJyKCkKICAgIGVycgoKcGF5bWVudF9hbW91bnRfZXhhY3RfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weTo0MgogICAgLy8gcmV0dXJuIHBheV90eG4uYW1vdW50CiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weTo1MgogICAgLy8gY3VzdG9tLmVuc3VyZShwYXltZW50KHBheW1lbnRfdHhuX2lkeCkgPT0gZXhwZWN0ZWRfYW1vdW50LCBTKCJFUlI6UEFZIEFNVCIpKQogICAgZnJhbWVfZGlnIC0xCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTEKICAgIC8vIGlmIG5vdCBjb25kOgogICAgYm56IHBheW1lbnRfYW1vdW50X2V4YWN0X2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi92YWxpZGF0ZS5weTo1MgogICAgLy8gY3VzdG9tLmVuc3VyZShwYXltZW50KHBheW1lbnRfdHhuX2lkeCkgPT0gZXhwZWN0ZWRfYW1vdW50LCBTKCJFUlI6UEFZIEFNVCIpKQogICAgcHVzaGJ5dGVzICJFUlI6UEFZIEFNVCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEyCiAgICAvLyBsb2cobXNnKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMwogICAgLy8gb3AuZXJyKCkKICAgIGVycgoKcGF5bWVudF9hbW91bnRfZXhhY3RfYWZ0ZXJfaWZfZWxzZUA3OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS51cGRhdGUoKSAtPiB2b2lkOgp1cGRhdGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo3Ni03NwogICAgLy8gQGFyYzQuYmFyZW1ldGhvZChhbGxvd19hY3Rpb25zPSgiVXBkYXRlQXBwbGljYXRpb24iLCkpCiAgICAvLyBkZWYgdXBkYXRlKHNlbGYpIC0+IE5vbmU6CiAgICBwcm90byAwIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5Ojc4CiAgICAvLyBzZWxmLmVuc3VyZV9tYW5hZ2VyX2NhbGxlcigpCiAgICBjYWxsc3ViIGVuc3VyZV9tYW5hZ2VyX2NhbGxlcgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS5kZWxldGUoKSAtPiB2b2lkOgpkZWxldGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo4MC04MQogICAgLy8gQGFyYzQuYmFyZW1ldGhvZChhbGxvd19hY3Rpb25zPSgiRGVsZXRlQXBwbGljYXRpb24iLCkpCiAgICAvLyBkZWYgZGVsZXRlKHNlbGYpIC0+IE5vbmU6CiAgICBwcm90byAwIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjgyCiAgICAvLyBzZWxmLmVuc3VyZV9tYW5hZ2VyX2NhbGxlcigpCiAgICBjYWxsc3ViIGVuc3VyZV9tYW5hZ2VyX2NhbGxlcgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS5jYWxjdWxhdGVfYWxnb19jb3N0KHJlY2lwaWVudF9hcHA6IHVpbnQ2NCwgZmFybV9hc3NldDogdWludDY0LCBkdXJhdGlvbl9ibG9ja3M6IHVpbnQ2NCkgLT4gYnl0ZXM6CmNhbGN1bGF0ZV9hbGdvX2Nvc3Q6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo4NC04NwogICAgLy8gQHN1YnJvdXRpbmUKICAgIC8vIGRlZiBjYWxjdWxhdGVfYWxnb19jb3N0KAogICAgLy8gICAgIHNlbGYsIHJlY2lwaWVudF9hcHA6IEFwcGxpY2F0aW9uLCBmYXJtX2Fzc2V0OiBBc3NldCwgZHVyYXRpb25fYmxvY2tzOiBVSW50NjQKICAgIC8vICkgLT4gQWxnb0Nvc3Q6CiAgICBwcm90byAzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjkwCiAgICAvLyBpZiBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLmlzX29wdGVkX2luKGZhcm1fYXNzZXQpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZnJhbWVfZGlnIC0yCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6ODktOTEKICAgIC8vIFVJbnQ2NCgwKQogICAgLy8gaWYgR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5pc19vcHRlZF9pbihmYXJtX2Fzc2V0KQogICAgLy8gZWxzZSBHbG9iYWwuYXNzZXRfb3B0X2luX21pbl9iYWxhbmNlCiAgICBieiBjYWxjdWxhdGVfYWxnb19jb3N0X3Rlcm5hcnlfZmFsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6ODkKICAgIC8vIFVJbnQ2NCgwKQogICAgaW50Y18xIC8vIDAKCmNhbGN1bGF0ZV9hbGdvX2Nvc3RfdGVybmFyeV9tZXJnZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6OTMKICAgIC8vIGxvZyhvcHRpbl9tYnIpCiAgICBkdXAKICAgIGl0b2IKICAgIGR1cAogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo5NQogICAgLy8gVUludDY0KDApIGlmIHJlY2lwaWVudF9hcHAgaW4gc2VsZi5mYXJtcyBlbHNlIFVJbnQ2NCg1ICogOCAqIDQwMCArIDI1MDApCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgcHVzaGludCAxODUwMCAvLyAxODUwMAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5Ojk0LTk2CiAgICAvLyBib3hfbWJyID0gKAogICAgLy8gICAgIFVJbnQ2NCgwKSBpZiByZWNpcGllbnRfYXBwIGluIHNlbGYuZmFybXMgZWxzZSBVSW50NjQoNSAqIDggKiA0MDAgKyAyNTAwKQogICAgLy8gKSAgIyBib3ggc2l6ZSBpcyAxKzQgdWludDY0cwogICAgdW5jb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo5NQogICAgLy8gVUludDY0KDApIGlmIHJlY2lwaWVudF9hcHAgaW4gc2VsZi5mYXJtcyBlbHNlIFVJbnQ2NCg1ICogOCAqIDQwMCArIDI1MDApCiAgICBzZWxlY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5Ojk3CiAgICAvLyBsb2coYm94X21icikKICAgIGR1cAogICAgaXRvYgogICAgZHVwCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjQxMAogICAgLy8gcmV0dXJuIFVJbnQ2NChGQVJNX0FMR09fQ09TVF9QRVJfQkxPQ0spICogR2xvYmFsLm1pbl90eG5fZmVlCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBnbG9iYWwgTWluVHhuRmVlCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo5OAogICAgLy8gZmFybV9jb3N0cyA9IHNlbGYuZ2V0X2Zhcm1fYWxnb19jb3N0X3Blcl9ibG9jaygpICogZHVyYXRpb25fYmxvY2tzCiAgICBmcmFtZV9kaWcgLTEKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsb2coZmFybV9jb3N0cykKICAgIGR1cAogICAgaXRvYgogICAgZHVwCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEwMQogICAgLy8gYWxnb19jb3N0PWFyYzQuVUludDY0KG9wdGluX21iciArIGJveF9tYnIgKyBmYXJtX2Nvc3RzKSwKICAgIHVuY292ZXIgNQogICAgdW5jb3ZlciA0CiAgICArCiAgICB1bmNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEwMC0xMDUKICAgIC8vIHJldHVybiBBbGdvQ29zdCgKICAgIC8vICAgICBhbGdvX2Nvc3Q9YXJjNC5VSW50NjQob3B0aW5fbWJyICsgYm94X21iciArIGZhcm1fY29zdHMpLAogICAgLy8gICAgIGZhcm1fY29zdD1hcmM0LlVJbnQ2NChmYXJtX2Nvc3RzKSwKICAgIC8vICAgICBib3hfY29zdD1hcmM0LlVJbnQ2NChib3hfbWJyKSwKICAgIC8vICAgICBvcHRpbl9jb3N0PWFyYzQuVUludDY0KG9wdGluX21iciksCiAgICAvLyApCiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcmV0c3ViCgpjYWxjdWxhdGVfYWxnb19jb3N0X3Rlcm5hcnlfZmFsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjkxCiAgICAvLyBlbHNlIEdsb2JhbC5hc3NldF9vcHRfaW5fbWluX2JhbGFuY2UKICAgIGdsb2JhbCBBc3NldE9wdEluTWluQmFsYW5jZQogICAgYiBjYWxjdWxhdGVfYWxnb19jb3N0X3Rlcm5hcnlfbWVyZ2VAMwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0uZ2V0X2FsZ29fY29zdChyZWNpcGllbnRfYXBwOiB1aW50NjQsIGZhcm1fYXNzZXQ6IHVpbnQ2NCwgZHVyYXRpb25fYmxvY2tzOiB1aW50NjQpIC0+IGJ5dGVzOgpnZXRfYWxnb19jb3N0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTA3LTExMAogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgLy8gZGVmIGdldF9hbGdvX2Nvc3QoCiAgICAvLyAgICAgc2VsZiwgcmVjaXBpZW50X2FwcDogQXBwbGljYXRpb24sIGZhcm1fYXNzZXQ6IEFzc2V0LCBkdXJhdGlvbl9ibG9ja3M6IFVJbnQ2NAogICAgLy8gKSAtPiBBbGdvQ29zdDoKICAgIHByb3RvIDMgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTExCiAgICAvLyByZXR1cm4gc2VsZi5jYWxjdWxhdGVfYWxnb19jb3N0KHJlY2lwaWVudF9hcHAsIGZhcm1fYXNzZXQsIGR1cmF0aW9uX2Jsb2NrcykKICAgIGZyYW1lX2RpZyAtMwogICAgZnJhbWVfZGlnIC0yCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgY2FsY3VsYXRlX2FsZ29fY29zdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS5nZXRfYWxnb19jb3N0X2FuZF9tYXhfZHVyYXRpb24ocmVjaXBpZW50X2FwcDogdWludDY0LCBmYXJtX2Fzc2V0OiB1aW50NjQsIGR1cmF0aW9uX2Jsb2NrczogdWludDY0KSAtPiBieXRlczoKZ2V0X2FsZ29fY29zdF9hbmRfbWF4X2R1cmF0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTEzLTExNgogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgLy8gZGVmIGdldF9hbGdvX2Nvc3RfYW5kX21heF9kdXJhdGlvbigKICAgIC8vICAgICBzZWxmLCByZWNpcGllbnRfYXBwOiBBcHBsaWNhdGlvbiwgZmFybV9hc3NldDogQXNzZXQsIGR1cmF0aW9uX2Jsb2NrczogVUludDY0CiAgICAvLyApIC0+IEFsZ29Db3N0QW5kTWF4RHVyYXRpb246CiAgICBwcm90byAzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjExNy0xMTkKICAgIC8vIGFsZ29fY29zdF9zdHJ1Y3QgPSBzZWxmLmNhbGN1bGF0ZV9hbGdvX2Nvc3QoCiAgICAvLyAgICAgcmVjaXBpZW50X2FwcCwgZmFybV9hc3NldCwgZHVyYXRpb25fYmxvY2tzCiAgICAvLyApCiAgICBmcmFtZV9kaWcgLTMKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIGNhbGN1bGF0ZV9hbGdvX2Nvc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEyMQogICAgLy8gYWxnb19jb3N0PWFsZ29fY29zdF9zdHJ1Y3QuYWxnb19jb3N0LAogICAgZHVwCiAgICBleHRyYWN0IDAgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEyMwogICAgLy8gb3B0aW5fY29zdD1hbGdvX2Nvc3Rfc3RydWN0Lm9wdGluX2Nvc3QsCiAgICBkaWcgMQogICAgZXh0cmFjdCA4IDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxMjIKICAgIC8vIGJveF9jb3N0PWFsZ29fY29zdF9zdHJ1Y3QuYm94X2Nvc3QsCiAgICBkaWcgMgogICAgZXh0cmFjdCAxNiA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTI0CiAgICAvLyBmYXJtX2Nvc3Q9YWxnb19jb3N0X3N0cnVjdC5mYXJtX2Nvc3QsCiAgICB1bmNvdmVyIDMKICAgIGV4dHJhY3QgMjQgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEyNQogICAgLy8gbWF4X2R1cmF0aW9uPWFyYzQuVUludDY0KHNlbGYuZ2V0X21heF9kdXJhdGlvbihyZWNpcGllbnRfYXBwKSksCiAgICBmcmFtZV9kaWcgLTMKICAgIGNhbGxzdWIgZ2V0X21heF9kdXJhdGlvbgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTIwLTEyNgogICAgLy8gcmV0dXJuIEFsZ29Db3N0QW5kTWF4RHVyYXRpb24oCiAgICAvLyAgICAgYWxnb19jb3N0PWFsZ29fY29zdF9zdHJ1Y3QuYWxnb19jb3N0LAogICAgLy8gICAgIGJveF9jb3N0PWFsZ29fY29zdF9zdHJ1Y3QuYm94X2Nvc3QsCiAgICAvLyAgICAgb3B0aW5fY29zdD1hbGdvX2Nvc3Rfc3RydWN0Lm9wdGluX2Nvc3QsCiAgICAvLyAgICAgZmFybV9jb3N0PWFsZ29fY29zdF9zdHJ1Y3QuZmFybV9jb3N0LAogICAgLy8gICAgIG1heF9kdXJhdGlvbj1hcmM0LlVJbnQ2NChzZWxmLmdldF9tYXhfZHVyYXRpb24ocmVjaXBpZW50X2FwcCkpLAogICAgLy8gKQogICAgdW5jb3ZlciA0CiAgICB1bmNvdmVyIDQKICAgIGNvbmNhdAogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0uZ2V0X21heF9kdXJhdGlvbihyZWNpcGllbnRfYXBwOiB1aW50NjQpIC0+IHVpbnQ2NDoKZ2V0X21heF9kdXJhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEyOC0xMjkKICAgIC8vIEBzdWJyb3V0aW5lCiAgICAvLyBkZWYgZ2V0X21heF9kdXJhdGlvbihzZWxmLCByZWNpcGllbnRfYXBwOiBBcHBsaWNhdGlvbikgLT4gVUludDY0OgogICAgcHJvdG8gMSAxCiAgICBieXRlY18zIC8vICIiCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjEzNAogICAgLy8gZHNfYmFsYW5jZSA9IEJpZ1VJbnQocmVjaXBpZW50X2FwcC5hZGRyZXNzLmJhbGFuY2UpCiAgICBmcmFtZV9kaWcgLTEKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxMzUKICAgIC8vIHRvdGFsX29ubGluZV9zdGFrZSA9IEJpZ1VJbnQob3Aub25saW5lX3N0YWtlKCkpCiAgICBvbmxpbmVfc3Rha2UKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vcm91bmRfdGltZS5weToyMwogICAgLy8gZmlyc3RfYWNjZXNzaWJsZSA9IG1hdGguc2FmZV9zdWJ0cmFjdChUeG4ubGFzdF92YWxpZCwgVUludDY0KDEwMDEpLCBVSW50NjQoMSkpCiAgICB0eG4gTGFzdFZhbGlkCiAgICBpbnRjXzAgLy8gMQogICAgdHhuIExhc3RWYWxpZAogICAgcHVzaGludCAxMDAxIC8vIDEwMDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vbWF0aC5weToxNAogICAgLy8gcmV0dXJuIGEgLSBiIGlmIGEgPiBiIGVsc2UgZGVmYXVsdAogICAgPgogICAgYnogZ2V0X21heF9kdXJhdGlvbl90ZXJuYXJ5X2ZhbHNlQDMKICAgIGZyYW1lX2RpZyA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3JvdW5kX3RpbWUucHk6MjMKICAgIC8vIGZpcnN0X2FjY2Vzc2libGUgPSBtYXRoLnNhZmVfc3VidHJhY3QoVHhuLmxhc3RfdmFsaWQsIFVJbnQ2NCgxMDAxKSwgVUludDY0KDEpKQogICAgcHVzaGludCAxMDAxIC8vIDEwMDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vbWF0aC5weToxNAogICAgLy8gcmV0dXJuIGEgLSBiIGlmIGEgPiBiIGVsc2UgZGVmYXVsdAogICAgLQogICAgZnJhbWVfYnVyeSAxCgpnZXRfbWF4X2R1cmF0aW9uX3Rlcm5hcnlfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vcm91bmRfdGltZS5weToyNAogICAgLy8gbGFzdF9hY2Nlc3NpYmxlID0gVHhuLmZpcnN0X3ZhbGlkIC0gVUludDY0KDEpCiAgICB0eG4gRmlyc3RWYWxpZAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3JvdW5kX3RpbWUucHk6MjYKICAgIC8vIGxhc3RfYWNjZXNzaWJsZSAtIGZpcnN0X2FjY2Vzc2libGUgPj0gbWluX3JvdW5kX3NhbXBsZSwKICAgIGZyYW1lX2RpZyAxCiAgICAtCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTM2LTEzNwogICAgLy8gIyByb3VuZF90aW1lID0gKGR0ID09IHRpbWUyIC0gdGltZTEpIC8gKGRyID09IGJsb2NrMiAtIGJsb2NrMSkKICAgIC8vIHJ0X2ZyYWN0aW9uID0gcm91bmRfdGltZS5nZXRfcm91bmRfdGltZShVSW50NjQoTUlOX1JPVU5EX1NBTVBMRSkpCiAgICBwdXNoaW50IDUwMCAvLyA1MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vcm91bmRfdGltZS5weToyNgogICAgLy8gbGFzdF9hY2Nlc3NpYmxlIC0gZmlyc3RfYWNjZXNzaWJsZSA+PSBtaW5fcm91bmRfc2FtcGxlLAogICAgPj0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjExCiAgICAvLyBpZiBub3QgY29uZDoKICAgIGJueiBnZXRfbWF4X2R1cmF0aW9uX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9yb3VuZF90aW1lLnB5OjI3CiAgICAvLyBTKCJFUlI6QkxLIFJOR0UiKSwKICAgIHB1c2hieXRlcyAiRVJSOkJMSyBSTkdFIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTIKICAgIC8vIGxvZyhtc2cpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEzCiAgICAvLyBvcC5lcnIoKQogICAgZXJyCgpnZXRfbWF4X2R1cmF0aW9uX2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vcm91bmRfdGltZS5weTozMAogICAgLy8gdHNfZGVsdGEgPSBvcC5CbG9jay5ibGtfdGltZXN0YW1wKGxhc3RfYWNjZXNzaWJsZSkgLSBvcC5CbG9jay5ibGtfdGltZXN0YW1wKAogICAgZnJhbWVfZGlnIDIKICAgIGJsb2NrIEJsa1RpbWVzdGFtcAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9yb3VuZF90aW1lLnB5OjMwLTMyCiAgICAvLyB0c19kZWx0YSA9IG9wLkJsb2NrLmJsa190aW1lc3RhbXAobGFzdF9hY2Nlc3NpYmxlKSAtIG9wLkJsb2NrLmJsa190aW1lc3RhbXAoCiAgICAvLyAgICAgZmlyc3RfYWNjZXNzaWJsZQogICAgLy8gKQogICAgZnJhbWVfZGlnIDEKICAgIGJsb2NrIEJsa1RpbWVzdGFtcAogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTQwLTE0MQogICAgLy8gVUludDY0KDg2NDAwKQogICAgLy8gKiBVSW50NjQoREVGQVVMVF9NQVhfRFVSQVRJT05fREFZUykKICAgIHB1c2hpbnQgMzg4ODAwMCAvLyAzODg4MDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxNDAtMTQyCiAgICAvLyBVSW50NjQoODY0MDApCiAgICAvLyAqIFVJbnQ2NChERUZBVUxUX01BWF9EVVJBVElPTl9EQVlTKQogICAgLy8gKiBydF9mcmFjdGlvbi5kcgogICAgZnJhbWVfZGlnIDAKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE0MC0xNDMKICAgIC8vIFVJbnQ2NCg4NjQwMCkKICAgIC8vICogVUludDY0KERFRkFVTFRfTUFYX0RVUkFUSU9OX0RBWVMpCiAgICAvLyAqIHJ0X2ZyYWN0aW9uLmRyCiAgICAvLyAvLyBydF9mcmFjdGlvbi5kdAogICAgc3dhcAogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTM4LTE0NAogICAgLy8gIyBibG9ja3MgcHJvZHVjZWQgPSA0NSBkYXlzIGluIHNlY29uZHMgLyByb3VuZF90aW1lCiAgICAvLyBibG9ja3NfcHJvZHVjZWQgPSBCaWdVSW50KAogICAgLy8gICAgIFVJbnQ2NCg4NjQwMCkKICAgIC8vICAgICAqIFVJbnQ2NChERUZBVUxUX01BWF9EVVJBVElPTl9EQVlTKQogICAgLy8gICAgICogcnRfZnJhY3Rpb24uZHIKICAgIC8vICAgICAvLyBydF9mcmFjdGlvbi5kdAogICAgLy8gKQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTQ1LTE0NwogICAgLy8gIyBtYXggZHVyYXRpb24gPSBwZXJjZW50YWdlX29mX3N0YWtlICogYmxvY2tzIHByb2R1Y2VkIGluIDQ1IGRheXMKICAgIC8vICMgPSBvd25fc3Rha2UgKiBibG9ja3NfcHJvZHVjZWQgLyB0b3RhbF9zdGFrZQogICAgLy8gbWF4X2R1cmF0aW9uID0gZHNfYmFsYW5jZSAqIGJsb2Nrc19wcm9kdWNlZCAvLyB0b3RhbF9vbmxpbmVfc3Rha2UKICAgIGZyYW1lX2RpZyAzCiAgICBiKgogICAgZnJhbWVfZGlnIDQKICAgIGIvCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxNDkKICAgIC8vIFVJbnQ2NChERUZBVUxUX01JTl9EVVJBVElPTl9CTE9DS1MpLCBvcC5idG9pKG1heF9kdXJhdGlvbi5ieXRlcykKICAgIGJ0b2kKICAgIGludGNfMyAvLyAzMAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9tYXRoLnB5OjkKICAgIC8vIHJldHVybiBhIGlmIGEgPiBiIGVsc2UgYgogICAgZGlnIDEKICAgID4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE0OQogICAgLy8gVUludDY0KERFRkFVTFRfTUlOX0RVUkFUSU9OX0JMT0NLUyksIG9wLmJ0b2kobWF4X2R1cmF0aW9uLmJ5dGVzKQogICAgaW50Y18zIC8vIDMwCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL21hdGgucHk6OQogICAgLy8gcmV0dXJuIGEgaWYgYSA+IGIgZWxzZSBiCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE0OC0xNTAKICAgIC8vIHJldHVybiBtYXRoLm1heCgKICAgIC8vICAgICBVSW50NjQoREVGQVVMVF9NSU5fRFVSQVRJT05fQkxPQ0tTKSwgb3AuYnRvaShtYXhfZHVyYXRpb24uYnl0ZXMpCiAgICAvLyApCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKZ2V0X21heF9kdXJhdGlvbl90ZXJuYXJ5X2ZhbHNlQDM6CiAgICBmcmFtZV9kaWcgNgogICAgZnJhbWVfYnVyeSAxCiAgICBiIGdldF9tYXhfZHVyYXRpb25fdGVybmFyeV9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS52YWxpZGF0ZV9kdXJhdGlvbihyZWNpcGllbnRfYXBwOiB1aW50NjQsIGR1cmF0aW9uX2Jsb2NrczogdWludDY0KSAtPiB2b2lkOgp2YWxpZGF0ZV9kdXJhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE1Mi0xNTUKICAgIC8vIEBzdWJyb3V0aW5lCiAgICAvLyBkZWYgdmFsaWRhdGVfZHVyYXRpb24oCiAgICAvLyAgICAgc2VsZiwgcmVjaXBpZW50X2FwcDogQXBwbGljYXRpb24sIGR1cmF0aW9uX2Jsb2NrczogVUludDY0CiAgICAvLyApIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE1NgogICAgLy8gYWxsb3dlZF9kdXJhdGlvbiA9IHNlbGYuZ2V0X21heF9kdXJhdGlvbihyZWNpcGllbnRfYXBwKQogICAgZnJhbWVfZGlnIC0yCiAgICBjYWxsc3ViIGdldF9tYXhfZHVyYXRpb24KICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTU3CiAgICAvLyBpZiBhbGxvd2VkX2R1cmF0aW9uIDwgZHVyYXRpb25fYmxvY2tzOgogICAgZnJhbWVfZGlnIC0xCiAgICA8CiAgICBieiB2YWxpZGF0ZV9kdXJhdGlvbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE1OAogICAgLy8gbG9nKGFsbG93ZWRfZHVyYXRpb24pCiAgICBmcmFtZV9kaWcgMAogICAgaXRvYgogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxNTkKICAgIC8vIGxvZygiRVJSOkRVUkFUSU9OIikKICAgIHB1c2hieXRlcyAiRVJSOkRVUkFUSU9OIgogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxNjAKICAgIC8vIG9wLmVycigpCiAgICBlcnIKCnZhbGlkYXRlX2R1cmF0aW9uX2FmdGVyX2lmX2Vsc2VAMjoKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0uY3JlYXRlX2Zhcm0ocmVjaXBpZW50X2FwcDogdWludDY0LCBmYXJtX2Fzc2V0OiB1aW50NjQsIGFtb3VudF9wZXJfYmxvY2s6IHVpbnQ2NCwgZHVyYXRpb25fYmxvY2tzOiB1aW50NjQpIC0+IHZvaWQ6CmNyZWF0ZV9mYXJtOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTYyLTE2OQogICAgLy8gQGFiaW1ldGhvZCgpCiAgICAvLyBkZWYgY3JlYXRlX2Zhcm0oCiAgICAvLyAgICAgc2VsZiwKICAgIC8vICAgICByZWNpcGllbnRfYXBwOiBBcHBsaWNhdGlvbiwKICAgIC8vICAgICBmYXJtX2Fzc2V0OiBBc3NldCwKICAgIC8vICAgICBhbW91bnRfcGVyX2Jsb2NrOiBVSW50NjQsCiAgICAvLyAgICAgZHVyYXRpb25fYmxvY2tzOiBVSW50NjQsCiAgICAvLyApIC0+IE5vbmU6CiAgICBwcm90byA0IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE3MC0xNzEKICAgIC8vICMgcmVqZWN0IGlmIGZhcm0gZXhpc3RzIGFscmVhZHkKICAgIC8vIGN1c3RvbS5lbnN1cmUocmVjaXBpZW50X2FwcCBub3QgaW4gc2VsZi5mYXJtcywgUygiRVJSOkVYSVNUUyIpKQogICAgZnJhbWVfZGlnIC00CiAgICBpdG9iCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTEKICAgIC8vIGlmIG5vdCBjb25kOgogICAgYnogY3JlYXRlX2Zhcm1fYWZ0ZXJfaWZfZWxzZUA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxNzAtMTcxCiAgICAvLyAjIHJlamVjdCBpZiBmYXJtIGV4aXN0cyBhbHJlYWR5CiAgICAvLyBjdXN0b20uZW5zdXJlKHJlY2lwaWVudF9hcHAgbm90IGluIHNlbGYuZmFybXMsIFMoIkVSUjpFWElTVFMiKSkKICAgIHB1c2hieXRlcyAiRVJSOkVYSVNUUyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEyCiAgICAvLyBsb2cobXNnKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMwogICAgLy8gb3AuZXJyKCkKICAgIGVycgoKY3JlYXRlX2Zhcm1fYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTczCiAgICAvLyBjdXN0b20uZW5zdXJlKFR4bi5ncm91cF9pbmRleCA+IDAsIFMoIkVSUjpOTyBQQVkiKSkKICAgIHR4biBHcm91cEluZGV4CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMQogICAgLy8gaWYgbm90IGNvbmQ6CiAgICBibnogY3JlYXRlX2Zhcm1fYWZ0ZXJfaWZfZWxzZUAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTczCiAgICAvLyBjdXN0b20uZW5zdXJlKFR4bi5ncm91cF9pbmRleCA+IDAsIFMoIkVSUjpOTyBQQVkiKSkKICAgIHB1c2hieXRlcyAiRVJSOk5PIFBBWSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEyCiAgICAvLyBsb2cobXNnKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMwogICAgLy8gb3AuZXJyKCkKICAgIGVycgoKY3JlYXRlX2Zhcm1fYWZ0ZXJfaWZfZWxzZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE3NwogICAgLy8gVHhuLmdyb3VwX2luZGV4IC0gVUludDY0KDEpLCAgIyBwcmV2aW91cyB0eG4KICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTc4LTE4MAogICAgLy8gc2VsZi5jYWxjdWxhdGVfYWxnb19jb3N0KAogICAgLy8gICAgIHJlY2lwaWVudF9hcHAsIGZhcm1fYXNzZXQsIGR1cmF0aW9uX2Jsb2NrcwogICAgLy8gKS5hbGdvX2Nvc3QubmF0aXZlLAogICAgZnJhbWVfZGlnIC00CiAgICBmcmFtZV9kaWcgLTMKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBjYWxjdWxhdGVfYWxnb19jb3N0CiAgICBleHRyYWN0IDAgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE3NS0xODEKICAgIC8vICMgdmFsaWRhdGUgQUxHTyBwYXltZW50LiBwb3NpdGlvbmVkIGJlZm9yZSBzbyBpdCBjYW4gY292ZXIgb3B0aW4gYW5kIGJveCBNQlIKICAgIC8vIHZhbGlkYXRlLnBheW1lbnRfYW1vdW50X2V4YWN0KAogICAgLy8gICAgIFR4bi5ncm91cF9pbmRleCAtIFVJbnQ2NCgxKSwgICMgcHJldmlvdXMgdHhuCiAgICAvLyAgICAgc2VsZi5jYWxjdWxhdGVfYWxnb19jb3N0KAogICAgLy8gICAgICAgICByZWNpcGllbnRfYXBwLCBmYXJtX2Fzc2V0LCBkdXJhdGlvbl9ibG9ja3MKICAgIC8vICAgICApLmFsZ29fY29zdC5uYXRpdmUsCiAgICAvLyApCiAgICBjYWxsc3ViIHBheW1lbnRfYW1vdW50X2V4YWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxODcKICAgIC8vIFR4bi5ncm91cF9pbmRleCArIFVJbnQ2NCgxKSwgICMgbmV4dCB0eG4KICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTg5CiAgICAvLyBhbW91bnRfcGVyX2Jsb2NrICogZHVyYXRpb25fYmxvY2tzLAogICAgZnJhbWVfZGlnIC0yCiAgICBmcmFtZV9kaWcgLTEKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE4My0xOTAKICAgIC8vICMgdmFsaWRhdGUgQVNBIGRlcG9zaXQuIHBvc2l0aW9uZWQgYWZ0ZXIgYXBwIGNhbGwgc28gd2UgY2FuIG9wdCBpbiBpZiBuZWVkZWQKICAgIC8vICMgZG9uJ3QgZG8gYXMgSSBkbywgaWYgeW91IHVzZSB0aGlzIHBhdHRlcm4geW91IGNhbiBnZXQgZXhwbG9pdGVkIGlmIGFub3RoZXIgbWV0aG9kIHZhbGlkYXRlcyBhbiBhc2EgcGF5bWVudCBhdCAoLTEpCiAgICAvLyAjIGFuZCBpZiB5b3UgZG8gZG8gYXMgSSBkbywgZW5zdXJlIGFsbCB5b3VyIGF4ZmVycyBhcmUgZXhwZWN0ZWQgYXQgKzEKICAgIC8vIHZhbGlkYXRlLmF4ZmVyX2Ftb3VudF9leGFjdCgKICAgIC8vICAgICBUeG4uZ3JvdXBfaW5kZXggKyBVSW50NjQoMSksICAjIG5leHQgdHhuCiAgICAvLyAgICAgZmFybV9hc3NldCwKICAgIC8vICAgICBhbW91bnRfcGVyX2Jsb2NrICogZHVyYXRpb25fYmxvY2tzLAogICAgLy8gKQogICAgZnJhbWVfZGlnIC0zCiAgICBzd2FwCiAgICBjYWxsc3ViIGF4ZmVyX2Ftb3VudF9leGFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTkyCiAgICAvLyBzZWxmLnZhbGlkYXRlX2R1cmF0aW9uKHJlY2lwaWVudF9hcHAsIGR1cmF0aW9uX2Jsb2NrcykKICAgIGZyYW1lX2RpZyAtNAogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIHZhbGlkYXRlX2R1cmF0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxOTQtMTk1CiAgICAvLyAjIENoZWNrIHJlY2lwaWVudCBhcHAgc3RhdGUKICAgIC8vIHJlY2lwaWVudF9hc2FfaWQsIGV4aXN0cyA9IG9wLkFwcEdsb2JhbC5nZXRfZXhfdWludDY0KHJlY2lwaWVudF9hcHAsIGIiYXNhX2lkIikKICAgIGZyYW1lX2RpZyAtNAogICAgcHVzaGJ5dGVzIDB4NjE3MzYxNWY2OTY0CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToxOTYKICAgIC8vIGN1c3RvbS5lbnN1cmUocmVjaXBpZW50X2FzYV9pZCA9PSBmYXJtX2Fzc2V0LmlkLCBTKCJFUlI6QVBQIEFTQSIpKQogICAgZnJhbWVfZGlnIC0zCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTEKICAgIC8vIGlmIG5vdCBjb25kOgogICAgYm56IGNyZWF0ZV9mYXJtX2FmdGVyX2lmX2Vsc2VAMTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjE5NgogICAgLy8gY3VzdG9tLmVuc3VyZShyZWNpcGllbnRfYXNhX2lkID09IGZhcm1fYXNzZXQuaWQsIFMoIkVSUjpBUFAgQVNBIikpCiAgICBwdXNoYnl0ZXMgIkVSUjpBUFAgQVNBIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTIKICAgIC8vIGxvZyhtc2cpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEzCiAgICAvLyBvcC5lcnIoKQogICAgZXJyCgpjcmVhdGVfZmFybV9hZnRlcl9pZl9lbHNlQDE1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MTk4CiAgICAvLyBsb2coc2VsZi5nZXRfbWF4X2R1cmF0aW9uKHJlY2lwaWVudF9hcHApKQogICAgZnJhbWVfZGlnIC00CiAgICBjYWxsc3ViIGdldF9tYXhfZHVyYXRpb24KICAgIGl0b2IKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjAwLTIwMQogICAgLy8gIyBvcHRpbiBpZiBuZWVkZWQKICAgIC8vIGlmIG5vdCBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLmlzX29wdGVkX2luKGZhcm1fYXNzZXQpOgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAtMwogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBidXJ5IDEKICAgIGJueiBjcmVhdGVfZmFybV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vc2VuZC5weTo2CiAgICAvLyBheGZlcihhc3NldCwgR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywgVUludDY0KDApLCBmZWUpCiAgICBmcmFtZV9kaWcgLTMKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjAyCiAgICAvLyBzZW5kLm9wdGluKGZhcm1fYXNzZXQsIFVJbnQ2NCgwKSkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9zZW5kLnB5OjYKICAgIC8vIGF4ZmVyKGFzc2V0LCBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLCBVSW50NjQoMCksIGZlZSkKICAgIGNhbGxzdWIgYXhmZXIKCmNyZWF0ZV9mYXJtX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjIwNgogICAgLy8gZmFybV9hc3NldD1hcmM0LlVJbnQ2NChmYXJtX2Fzc2V0LmlkKSwKICAgIGZyYW1lX2RpZyAtMwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjA3CiAgICAvLyBhbW91bnRfcGVyX2Jsb2NrPWFyYzQuVUludDY0KGFtb3VudF9wZXJfYmxvY2spLAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMDgKICAgIC8vIHJlbWFpbmluZ19kdXJhdGlvbl9ibG9ja3M9YXJjNC5VSW50NjQoZHVyYXRpb25fYmxvY2tzKSwKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjA5CiAgICAvLyBsYXN0X2Jsb2NrX3BhaWQ9YXJjNC5VSW50NjQoR2xvYmFsLnJvdW5kICsgMSksCiAgICBnbG9iYWwgUm91bmQKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMDQtMjEwCiAgICAvLyAjIGNyZWF0ZSBmYXJtIGJveCBlbnRyeQogICAgLy8gc2VsZi5mYXJtc1tyZWNpcGllbnRfYXBwXSA9IEZhcm1TdGF0ZSgKICAgIC8vICAgICBmYXJtX2Fzc2V0PWFyYzQuVUludDY0KGZhcm1fYXNzZXQuaWQpLAogICAgLy8gICAgIGFtb3VudF9wZXJfYmxvY2s9YXJjNC5VSW50NjQoYW1vdW50X3Blcl9ibG9jayksCiAgICAvLyAgICAgcmVtYWluaW5nX2R1cmF0aW9uX2Jsb2Nrcz1hcmM0LlVJbnQ2NChkdXJhdGlvbl9ibG9ja3MpLAogICAgLy8gICAgIGxhc3RfYmxvY2tfcGFpZD1hcmM0LlVJbnQ2NChHbG9iYWwucm91bmQgKyAxKSwKICAgIC8vICkKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyAwCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMTItMjEzCiAgICAvLyAjIGFkZCB0byBnbG9iYWwgdHhuIGZ1ZWwKICAgIC8vIHNlbGYudHhuX2Z1ZWwgPSBzZWxmLnR4bl9mdWVsICsgc2VsZi5nZXRfdHhuX2Z1ZWxfcGVyX2Jsb2NrKCkgKiBkdXJhdGlvbl9ibG9ja3MKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18wIC8vICJ0eG5fZnVlbCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi50eG5fZnVlbCBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjQxNAogICAgLy8gcmV0dXJuIFVJbnQ2NChUWE5fRlVFTF9QRVJfQkxPQ0spICogR2xvYmFsLm1pbl90eG5fZmVlCiAgICBwdXNoaW50IDcgLy8gNwogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjEyLTIxMwogICAgLy8gIyBhZGQgdG8gZ2xvYmFsIHR4biBmdWVsCiAgICAvLyBzZWxmLnR4bl9mdWVsID0gc2VsZi50eG5fZnVlbCArIHNlbGYuZ2V0X3R4bl9mdWVsX3Blcl9ibG9jaygpICogZHVyYXRpb25fYmxvY2tzCiAgICBmcmFtZV9kaWcgLTEKICAgICoKICAgICsKICAgIGJ5dGVjXzAgLy8gInR4bl9mdWVsIgogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0uZXh0ZW5kX2R1cmF0aW9uX2Jsb2NrcyhyZWNpcGllbnRfYXBwOiB1aW50NjQsIGR1cmF0aW9uX2Jsb2NrczogdWludDY0KSAtPiB2b2lkOgpleHRlbmRfZHVyYXRpb25fYmxvY2tzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjE1LTIyMAogICAgLy8gQGFiaW1ldGhvZAogICAgLy8gZGVmIGV4dGVuZF9kdXJhdGlvbl9ibG9ja3MoCiAgICAvLyAgICAgc2VsZiwKICAgIC8vICAgICByZWNpcGllbnRfYXBwOiBBcHBsaWNhdGlvbiwKICAgIC8vICAgICBkdXJhdGlvbl9ibG9ja3M6IFVJbnQ2NCwKICAgIC8vICkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjIxCiAgICAvLyBjdXN0b20uZW5zdXJlKHJlY2lwaWVudF9hcHAgaW4gc2VsZi5mYXJtcywgUygiRVJSOk5PIEZBUk0iKSkKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjExCiAgICAvLyBpZiBub3QgY29uZDoKICAgIGJueiBleHRlbmRfZHVyYXRpb25fYmxvY2tzX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjIxCiAgICAvLyBjdXN0b20uZW5zdXJlKHJlY2lwaWVudF9hcHAgaW4gc2VsZi5mYXJtcywgUygiRVJSOk5PIEZBUk0iKSkKICAgIGJ5dGVjIDQgLy8gIkVSUjpOTyBGQVJNIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTIKICAgIC8vIGxvZyhtc2cpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEzCiAgICAvLyBvcC5lcnIoKQogICAgZXJyCgpleHRlbmRfZHVyYXRpb25fYmxvY2tzX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjIyMwogICAgLy8gc3RhdGUgPSBzZWxmLmZhcm1zW3JlY2lwaWVudF9hcHBdLmNvcHkoKQogICAgZnJhbWVfZGlnIDAKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZmFybXMgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMjQKICAgIC8vIGZhcm1fYXNzZXQgPSBBc3NldChzdGF0ZS5mYXJtX2Fzc2V0Lm5hdGl2ZSkKICAgIGR1cAogICAgZXh0cmFjdCAwIDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMjgKICAgIC8vIFR4bi5ncm91cF9pbmRleCAtIFVJbnQ2NCgxKSwgICMgcHJldmlvdXMgdHhuCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjIyOS0yMzEKICAgIC8vIHNlbGYuY2FsY3VsYXRlX2FsZ29fY29zdCgKICAgIC8vICAgICByZWNpcGllbnRfYXBwLCBmYXJtX2Fzc2V0LCBkdXJhdGlvbl9ibG9ja3MKICAgIC8vICkuYWxnb19jb3N0Lm5hdGl2ZSwKICAgIGZyYW1lX2RpZyAtMgogICAgZGlnIDIKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBjYWxjdWxhdGVfYWxnb19jb3N0CiAgICBleHRyYWN0IDAgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjIyNi0yMzIKICAgIC8vICMgdmFsaWRhdGUgQUxHTyBhbmQgQVNBIHBheW1lbnRzLiBrZWVwaW5nIGNyZWF0ZV9mYXJtIGJlZm9yZS9hZnRlciBzdHJ1Y3R1cmUgZm9yIHNpbXBsaWNpdHkKICAgIC8vIHZhbGlkYXRlLnBheW1lbnRfYW1vdW50X2V4YWN0KAogICAgLy8gICAgIFR4bi5ncm91cF9pbmRleCAtIFVJbnQ2NCgxKSwgICMgcHJldmlvdXMgdHhuCiAgICAvLyAgICAgc2VsZi5jYWxjdWxhdGVfYWxnb19jb3N0KAogICAgLy8gICAgICAgICByZWNpcGllbnRfYXBwLCBmYXJtX2Fzc2V0LCBkdXJhdGlvbl9ibG9ja3MKICAgIC8vICAgICApLmFsZ29fY29zdC5uYXRpdmUsCiAgICAvLyApCiAgICBjYWxsc3ViIHBheW1lbnRfYW1vdW50X2V4YWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyMzUKICAgIC8vIFR4bi5ncm91cF9pbmRleCArIFVJbnQ2NCgxKSwgICMgbmV4dCB0eG4KICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjM3CiAgICAvLyBzdGF0ZS5hbW91bnRfcGVyX2Jsb2NrLm5hdGl2ZSAqIGR1cmF0aW9uX2Jsb2NrcywKICAgIGRpZyAyCiAgICBleHRyYWN0IDggOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAtMQogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjM0LTIzOAogICAgLy8gdmFsaWRhdGUuYXhmZXJfYW1vdW50X2V4YWN0KAogICAgLy8gICAgIFR4bi5ncm91cF9pbmRleCArIFVJbnQ2NCgxKSwgICMgbmV4dCB0eG4KICAgIC8vICAgICBmYXJtX2Fzc2V0LAogICAgLy8gICAgIHN0YXRlLmFtb3VudF9wZXJfYmxvY2submF0aXZlICogZHVyYXRpb25fYmxvY2tzLAogICAgLy8gKQogICAgc3dhcAogICAgY292ZXIgMgogICAgY2FsbHN1YiBheGZlcl9hbW91bnRfZXhhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI0MQogICAgLy8gcmVjaXBpZW50X2FwcCwgc3RhdGUucmVtYWluaW5nX2R1cmF0aW9uX2Jsb2Nrcy5uYXRpdmUgKyBkdXJhdGlvbl9ibG9ja3MKICAgIGR1cAogICAgZXh0cmFjdCAxNiA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYnRvaQogICAgZnJhbWVfZGlnIC0xCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNDAtMjQyCiAgICAvLyBzZWxmLnZhbGlkYXRlX2R1cmF0aW9uKAogICAgLy8gICAgIHJlY2lwaWVudF9hcHAsIHN0YXRlLnJlbWFpbmluZ19kdXJhdGlvbl9ibG9ja3MubmF0aXZlICsgZHVyYXRpb25fYmxvY2tzCiAgICAvLyApCiAgICBmcmFtZV9kaWcgLTIKICAgIGRpZyAxCiAgICBjYWxsc3ViIHZhbGlkYXRlX2R1cmF0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNDQtMjQ3CiAgICAvLyAjIGFkanVzdCByZW1haW5pbmcgYmxvY2tzIGluIHN0YXRlCiAgICAvLyBzdGF0ZS5yZW1haW5pbmdfZHVyYXRpb25fYmxvY2tzID0gYXJjNC5VSW50NjQoCiAgICAvLyAgICAgc3RhdGUucmVtYWluaW5nX2R1cmF0aW9uX2Jsb2Nrcy5uYXRpdmUgKyBkdXJhdGlvbl9ibG9ja3MKICAgIC8vICkKICAgIGl0b2IKICAgIHJlcGxhY2UyIDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNDgtMjQ5CiAgICAvLyAjIHNhdmUgc3RhdGUKICAgIC8vIHNlbGYuZmFybXNbcmVjaXBpZW50X2FwcF0gPSBzdGF0ZS5jb3B5KCkKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI1MS0yNTIKICAgIC8vICMgYWRqdXN0IHR4biBmdWVsIHJlbWFpbmluZwogICAgLy8gc2VsZi50eG5fZnVlbCA9IHNlbGYudHhuX2Z1ZWwgKyBzZWxmLmdldF90eG5fZnVlbF9wZXJfYmxvY2soKSAqIGR1cmF0aW9uX2Jsb2NrcwogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjXzAgLy8gInR4bl9mdWVsIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLnR4bl9mdWVsIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NDE0CiAgICAvLyByZXR1cm4gVUludDY0KFRYTl9GVUVMX1BFUl9CTE9DSykgKiBHbG9iYWwubWluX3R4bl9mZWUKICAgIHB1c2hpbnQgNyAvLyA3CiAgICBnbG9iYWwgTWluVHhuRmVlCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNTEtMjUyCiAgICAvLyAjIGFkanVzdCB0eG4gZnVlbCByZW1haW5pbmcKICAgIC8vIHNlbGYudHhuX2Z1ZWwgPSBzZWxmLnR4bl9mdWVsICsgc2VsZi5nZXRfdHhuX2Z1ZWxfcGVyX2Jsb2NrKCkgKiBkdXJhdGlvbl9ibG9ja3MKICAgIGZyYW1lX2RpZyAtMQogICAgKgogICAgKwogICAgYnl0ZWNfMCAvLyAidHhuX2Z1ZWwiCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS5leHRlbmRfYW1vdW50X3Blcl9ibG9jayhyZWNpcGllbnRfYXBwOiB1aW50NjQsIGFtb3VudF9wZXJfYmxvY2s6IHVpbnQ2NCkgLT4gdm9pZDoKZXh0ZW5kX2Ftb3VudF9wZXJfYmxvY2s6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNTQtMjU5CiAgICAvLyBAYWJpbWV0aG9kCiAgICAvLyBkZWYgZXh0ZW5kX2Ftb3VudF9wZXJfYmxvY2soCiAgICAvLyAgICAgc2VsZiwKICAgIC8vICAgICByZWNpcGllbnRfYXBwOiBBcHBsaWNhdGlvbiwKICAgIC8vICAgICBhbW91bnRfcGVyX2Jsb2NrOiBVSW50NjQsCiAgICAvLyApIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI2MAogICAgLy8gY3VzdG9tLmVuc3VyZShyZWNpcGllbnRfYXBwIGluIHNlbGYuZmFybXMsIFMoIkVSUjpOTyBGQVJNIikpCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMQogICAgLy8gaWYgbm90IGNvbmQ6CiAgICBibnogZXh0ZW5kX2Ftb3VudF9wZXJfYmxvY2tfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNjAKICAgIC8vIGN1c3RvbS5lbnN1cmUocmVjaXBpZW50X2FwcCBpbiBzZWxmLmZhcm1zLCBTKCJFUlI6Tk8gRkFSTSIpKQogICAgYnl0ZWMgNCAvLyAiRVJSOk5PIEZBUk0iCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMgogICAgLy8gbG9nKG1zZykKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTMKICAgIC8vIG9wLmVycigpCiAgICBlcnIKCmV4dGVuZF9hbW91bnRfcGVyX2Jsb2NrX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI2MgogICAgLy8gc3RhdGUgPSBzZWxmLmZhcm1zW3JlY2lwaWVudF9hcHBdLmNvcHkoKQogICAgZnJhbWVfZGlnIDAKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZmFybXMgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNjMKICAgIC8vIGZhcm1fYXNzZXQgPSBBc3NldChzdGF0ZS5mYXJtX2Fzc2V0Lm5hdGl2ZSkKICAgIGR1cAogICAgZXh0cmFjdCAwIDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNjYKICAgIC8vIFR4bi5ncm91cF9pbmRleCArIFVJbnQ2NCgxKSwgICMgbmV4dCB0eG4KICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjY4CiAgICAvLyBhbW91bnRfcGVyX2Jsb2NrICogc3RhdGUucmVtYWluaW5nX2R1cmF0aW9uX2Jsb2Nrcy5uYXRpdmUsCiAgICBkaWcgMgogICAgZXh0cmFjdCAxNiA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYnRvaQogICAgZnJhbWVfZGlnIC0xCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNjUtMjY5CiAgICAvLyB2YWxpZGF0ZS5heGZlcl9hbW91bnRfZXhhY3QoCiAgICAvLyAgICAgVHhuLmdyb3VwX2luZGV4ICsgVUludDY0KDEpLCAgIyBuZXh0IHR4bgogICAgLy8gICAgIGZhcm1fYXNzZXQsCiAgICAvLyAgICAgYW1vdW50X3Blcl9ibG9jayAqIHN0YXRlLnJlbWFpbmluZ19kdXJhdGlvbl9ibG9ja3MubmF0aXZlLAogICAgLy8gKQogICAgc3dhcAogICAgY292ZXIgMgogICAgY2FsbHN1YiBheGZlcl9hbW91bnRfZXhhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI3MwogICAgLy8gc3RhdGUuYW1vdW50X3Blcl9ibG9jay5uYXRpdmUgKyBhbW91bnRfcGVyX2Jsb2NrCiAgICBkdXAKICAgIGV4dHJhY3QgOCA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYnRvaQogICAgZnJhbWVfZGlnIC0xCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNzEtMjc0CiAgICAvLyAjIGFkanVzdCBhbW91bnQgcGVyIGJsb2NrIGluIHN0YXRlCiAgICAvLyBzdGF0ZS5hbW91bnRfcGVyX2Jsb2NrID0gYXJjNC5VSW50NjQoCiAgICAvLyAgICAgc3RhdGUuYW1vdW50X3Blcl9ibG9jay5uYXRpdmUgKyBhbW91bnRfcGVyX2Jsb2NrCiAgICAvLyApCiAgICBpdG9iCiAgICByZXBsYWNlMiA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyNzUtMjc2CiAgICAvLyAjIHNhdmUgc3RhdGUKICAgIC8vIHNlbGYuZmFybXNbcmVjaXBpZW50X2FwcF0gPSBzdGF0ZS5jb3B5KCkKICAgIGJveF9wdXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0ucGF5b3V0KHJlY2lwaWVudF9hcHA6IHVpbnQ2NCwgYmxvY2tfcm91bmQ6IHVpbnQ2NCwgY2FsbF9zd2FwOiBieXRlcykgLT4gdm9pZDoKcGF5b3V0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mjc4LTI4MQogICAgLy8gQGFiaW1ldGhvZCgpCiAgICAvLyBkZWYgcGF5b3V0KAogICAgLy8gICAgIHNlbGYsIHJlY2lwaWVudF9hcHA6IEFwcGxpY2F0aW9uLCBibG9ja19yb3VuZDogVUludDY0LCBjYWxsX3N3YXA6IGFyYzQuQm9vbAogICAgLy8gKSAtPiBOb25lOgogICAgcHJvdG8gMyAwCiAgICBpbnRjXzEgLy8gMAogICAgZHVwCiAgICBieXRlY18zIC8vICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyODItMjgzCiAgICAvLyAjIGVuc3VyZSBmYXJtIGV4aXN0cwogICAgLy8gY3VzdG9tLmVuc3VyZShyZWNpcGllbnRfYXBwIGluIHNlbGYuZmFybXMsIFMoIkVSUjpOTyBGQVJNIikpCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMQogICAgLy8gaWYgbm90IGNvbmQ6CiAgICBibnogcGF5b3V0X2FmdGVyX2lmX2Vsc2VAMjMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI4Mi0yODMKICAgIC8vICMgZW5zdXJlIGZhcm0gZXhpc3RzCiAgICAvLyBjdXN0b20uZW5zdXJlKHJlY2lwaWVudF9hcHAgaW4gc2VsZi5mYXJtcywgUygiRVJSOk5PIEZBUk0iKSkKICAgIGJ5dGVjIDQgLy8gIkVSUjpOTyBGQVJNIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTIKICAgIC8vIGxvZyhtc2cpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEzCiAgICAvLyBvcC5lcnIoKQogICAgZXJyCgpwYXlvdXRfYWZ0ZXJfaWZfZWxzZUAyMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjI4NS0yODYKICAgIC8vICMgbG9hZCBmYXJtIHN0YXRlCiAgICAvLyBzdGF0ZSA9IHNlbGYuZmFybXNbcmVjaXBpZW50X2FwcF0uY29weSgpCiAgICBmcmFtZV9kaWcgMwogICAgYm94X2dldAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBmcmFtZV9idXJ5IDAKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmZhcm1zIGVudHJ5IGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mjg4LTI5MAogICAgLy8gIyBlbnN1cmUgd2UgaGF2ZSByZW1haW5pbmcgYmxvY2tzIHRvIHBheSBvdXQgaW4gdGhpcyBmYXJtCiAgICAvLyAjIGlmIG5vdCwgZGVsZXRlIGZhcm0gc3RhdGUgYW5kIHJldHVybgogICAgLy8gaWYgc3RhdGUucmVtYWluaW5nX2R1cmF0aW9uX2Jsb2NrcyA9PSAwOgogICAgZXh0cmFjdCAxNiA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYnl0ZWMgNyAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGI9PQogICAgYnogcGF5b3V0X2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjkxCiAgICAvLyBkZWwgc2VsZi5mYXJtc1tyZWNpcGllbnRfYXBwXQogICAgZnJhbWVfZGlnIDMKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MjkyLTI5MwogICAgLy8gIyBUT0RPIEVtaXQgZXZlbnQ/CiAgICAvLyBsb2coImV4cGlyZWQiKQogICAgcHVzaGJ5dGVzICJleHBpcmVkIgogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyOTQKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgpwYXlvdXRfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mjk2LTI5NwogICAgLy8gIyBlbnN1cmUgb3VyIGJsb2NrIGlzIGFmdGVyIHRoZSBsYXN0IGJsb2NrIHdlIGhhdmUgcGFpZAogICAgLy8gY3VzdG9tLmVuc3VyZShibG9ja19yb3VuZCA+IHN0YXRlLmxhc3RfYmxvY2tfcGFpZCwgUygiRVJSOlBBU1QiKSkKICAgIGZyYW1lX2RpZyAwCiAgICBleHRyYWN0IDI0IDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxCiAgICBiPAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTEKICAgIC8vIGlmIG5vdCBjb25kOgogICAgYm56IHBheW91dF9hZnRlcl9pZl9lbHNlQDE1CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weToyOTYtMjk3CiAgICAvLyAjIGVuc3VyZSBvdXIgYmxvY2sgaXMgYWZ0ZXIgdGhlIGxhc3QgYmxvY2sgd2UgaGF2ZSBwYWlkCiAgICAvLyBjdXN0b20uZW5zdXJlKGJsb2NrX3JvdW5kID4gc3RhdGUubGFzdF9ibG9ja19wYWlkLCBTKCJFUlI6UEFTVCIpKQogICAgcHVzaGJ5dGVzICJFUlI6UEFTVCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEyCiAgICAvLyBsb2cobXNnKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMwogICAgLy8gb3AuZXJyKCkKICAgIGVycgoKcGF5b3V0X2FmdGVyX2lmX2Vsc2VAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMDEKICAgIC8vIG9wLkJsb2NrLmJsa19wcm9wb3NlcihibG9ja19yb3VuZCkgPT0gcmVjaXBpZW50X2FwcC5hZGRyZXNzLAogICAgZnJhbWVfZGlnIC0yCiAgICBibG9jayBCbGtQcm9wb3NlcgogICAgZnJhbWVfZGlnIC0zCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTEKICAgIC8vIGlmIG5vdCBjb25kOgogICAgYm56IHBheW91dF9hZnRlcl9pZl9lbHNlQDE5CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMDIKICAgIC8vIFMoIkVSUjpOT1QgQkxLIFBST1AiKSwKICAgIHB1c2hieXRlcyAiRVJSOk5PVCBCTEsgUFJPUCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEyCiAgICAvLyBsb2cobXNnKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMwogICAgLy8gb3AuZXJyKCkKICAgIGVycgoKcGF5b3V0X2FmdGVyX2lmX2Vsc2VAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMDgtMzA5CiAgICAvLyAjIGNhbGwgc3dhcCBpZiBuZWVkZWQKICAgIC8vIGlmIGNhbGxfc3dhcDoKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGJ5dGVzIDB4MDAKICAgICE9CiAgICBieiBwYXlvdXRfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMTAtMzE0CiAgICAvLyBhYmlfY2FsbCgKICAgIC8vICAgICAic3dhcF9vcl9mYWlsKCl2b2lkIiwKICAgIC8vICAgICBhcHBfaWQ9cmVjaXBpZW50X2FwcCwKICAgIC8vICAgICBmZWU9R2xvYmFsLm1pbl90eG5fZmVlLAogICAgLy8gKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzEzCiAgICAvLyBmZWU9R2xvYmFsLm1pbl90eG5fZmVlLAogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgZnJhbWVfZGlnIC0zCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjMxMC0zMTQKICAgIC8vIGFiaV9jYWxsKAogICAgLy8gICAgICJzd2FwX29yX2ZhaWwoKXZvaWQiLAogICAgLy8gICAgIGFwcF9pZD1yZWNpcGllbnRfYXBwLAogICAgLy8gICAgIGZlZT1HbG9iYWwubWluX3R4bl9mZWUsCiAgICAvLyApCiAgICBwdXNoYnl0ZXMgMHg5MzIzOTgwMiAvLyBtZXRob2QgInN3YXBfb3JfZmFpbCgpdm9pZCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CgpwYXlvdXRfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzE2LTMxNwogICAgLy8gIyBzdWJ0cmFjdCB0eG4gZnVlbCByZWdhcmRsZXNzIG9mIGNhbGwgc3dhcCBvciBub3QKICAgIC8vIHR4bl9mdWVsX3NwZW50ID0gdHhuX2Z1ZWxfc3BlbnQgKyBHbG9iYWwubWluX3R4bl9mZWUKICAgIGdsb2JhbCBNaW5UeG5GZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjMxOQogICAgLy8gdHhuX2Z1ZWxfc3BlbnQgPSB0eG5fZnVlbF9zcGVudCArIEdsb2JhbC5taW5fdHhuX2ZlZQogICAgZHVwCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMjIKICAgIC8vIEFzc2V0KHN0YXRlLmZhcm1fYXNzZXQubmF0aXZlKSwKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGV4dHJhY3QgMCA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzIzCiAgICAvLyByZWNpcGllbnRfYXBwLmFkZHJlc3MsCiAgICBmcmFtZV9kaWcgLTMKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjMyNAogICAgLy8gc3RhdGUuYW1vdW50X3Blcl9ibG9jay5uYXRpdmUsCiAgICBkaWcgMgogICAgZXh0cmFjdCA4IDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMjUKICAgIC8vIEdsb2JhbC5taW5fdHhuX2ZlZSwKICAgIGdsb2JhbCBNaW5UeG5GZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjMyMC0zMjYKICAgIC8vICMgcGF5IG91dCByZXdhcmQKICAgIC8vIHNlbmQuYXhmZXIoCiAgICAvLyAgICAgQXNzZXQoc3RhdGUuZmFybV9hc3NldC5uYXRpdmUpLAogICAgLy8gICAgIHJlY2lwaWVudF9hcHAuYWRkcmVzcywKICAgIC8vICAgICBzdGF0ZS5hbW91bnRfcGVyX2Jsb2NrLm5hdGl2ZSwKICAgIC8vICAgICBHbG9iYWwubWluX3R4bl9mZWUsCiAgICAvLyApCiAgICBjYWxsc3ViIGF4ZmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMzAKICAgIC8vIHR4bl9mdWVsX3NwZW50ICsgR2xvYmFsLm1pbl90eG5fZmVlICsgc2VsZi5nZXRfaXhfcmV3YXJkc19wZXJfYmxvY2soKQogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgdW5jb3ZlciAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo0MTgKICAgIC8vIHJldHVybiBVSW50NjQoSVhfUkVXQVJEU19QRVJfQkxPQ0spICogR2xvYmFsLm1pbl90eG5fZmVlCiAgICBpbnRjXzIgLy8gNAogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzMwCiAgICAvLyB0eG5fZnVlbF9zcGVudCArIEdsb2JhbC5taW5fdHhuX2ZlZSArIHNlbGYuZ2V0X2l4X3Jld2FyZHNfcGVyX2Jsb2NrKCkKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjMyOC0zMzEKICAgIC8vICMgc2VuZCBpeCByZXdhcmQKICAgIC8vIHR4bl9mdWVsX3NwZW50ID0gKAogICAgLy8gICAgIHR4bl9mdWVsX3NwZW50ICsgR2xvYmFsLm1pbl90eG5fZmVlICsgc2VsZi5nZXRfaXhfcmV3YXJkc19wZXJfYmxvY2soKQogICAgLy8gKQogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMzIKICAgIC8vIHNlbmQuYWxnb19wYXkoVHhuLnNlbmRlciwgc2VsZi5nZXRfaXhfcmV3YXJkc19wZXJfYmxvY2soKSwgR2xvYmFsLm1pbl90eG5fZmVlKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NDE4CiAgICAvLyByZXR1cm4gVUludDY0KElYX1JFV0FSRFNfUEVSX0JMT0NLKSAqIEdsb2JhbC5taW5fdHhuX2ZlZQogICAgaW50Y18yIC8vIDQKICAgIGdsb2JhbCBNaW5UeG5GZWUKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjMzMgogICAgLy8gc2VuZC5hbGdvX3BheShUeG4uc2VuZGVyLCBzZWxmLmdldF9peF9yZXdhcmRzX3Blcl9ibG9jaygpLCBHbG9iYWwubWluX3R4bl9mZWUpCiAgICBnbG9iYWwgTWluVHhuRmVlCiAgICBjYWxsc3ViIGFsZ29fcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMzQtMzM1CiAgICAvLyAjIHVwZGF0ZSBib3ggc3RhdGUKICAgIC8vIHN0YXRlLmxhc3RfYmxvY2tfcGFpZCA9IGFyYzQuVUludDY0KGJsb2NrX3JvdW5kKQogICAgZnJhbWVfZGlnIDEKICAgIHJlcGxhY2UyIDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMzcKICAgIC8vIHN0YXRlLnJlbWFpbmluZ19kdXJhdGlvbl9ibG9ja3MubmF0aXZlIC0gVUludDY0KDEpCiAgICBkdXAKICAgIGV4dHJhY3QgMTYgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGJ0b2kKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozMzYtMzM4CiAgICAvLyBzdGF0ZS5yZW1haW5pbmdfZHVyYXRpb25fYmxvY2tzID0gYXJjNC5VSW50NjQoCiAgICAvLyAgICAgc3RhdGUucmVtYWluaW5nX2R1cmF0aW9uX2Jsb2Nrcy5uYXRpdmUgLSBVSW50NjQoMSkKICAgIC8vICkKICAgIGl0b2IKICAgIHJlcGxhY2UyIDE2CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzM5CiAgICAvLyBpZiBzdGF0ZS5yZW1haW5pbmdfZHVyYXRpb25fYmxvY2tzID09IDA6CiAgICBleHRyYWN0IDE2IDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBieXRlYyA3IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYj09CiAgICBieiBwYXlvdXRfZWxzZV9ib2R5QDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM0MAogICAgLy8gZGVsIHNlbGYuZmFybXNbcmVjaXBpZW50X2FwcF0KICAgIGZyYW1lX2RpZyAzCiAgICBib3hfZGVsCiAgICBwb3AKCnBheW91dF9hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozNDQtMzQ1CiAgICAvLyAjIHVwZGF0ZSBnbG9iYWwgdHhuIGZ1ZWwgc3RhdGUKICAgIC8vIHNlbGYudHhuX2Z1ZWwgPSBzZWxmLnR4bl9mdWVsIC0gdHhuX2Z1ZWxfc3BlbnQKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18wIC8vICJ0eG5fZnVlbCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi50eG5fZnVlbCBleGlzdHMKICAgIGZyYW1lX2RpZyAyCiAgICAtCiAgICBieXRlY18wIC8vICJ0eG5fZnVlbCIKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCnBheW91dF9lbHNlX2JvZHlANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM0MgogICAgLy8gc2VsZi5mYXJtc1tyZWNpcGllbnRfYXBwXSA9IHN0YXRlLmNvcHkoKQogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2RpZyAwCiAgICBib3hfcHV0CiAgICBiIHBheW91dF9hZnRlcl9pZl9lbHNlQDgKCgovLyBzbWFydF9jb250cmFjdHMuZHVhbHN0YWtlZmFybS5jb250cmFjdC5EdWFsc3Rha2VGYXJtLndpdGhkcmF3X2ZlZXMoYW1vdW50OiB1aW50NjQpIC0+IHZvaWQ6CndpdGhkcmF3X2ZlZXM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozNTEtMzUyCiAgICAvLyBAYWJpbWV0aG9kCiAgICAvLyBkZWYgd2l0aGRyYXdfZmVlcyhzZWxmLCBhbW91bnQ6IFVJbnQ2NCkgLT4gTm9uZToKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzUzCiAgICAvLyBzZWxmLmVuc3VyZV9tYW5hZ2VyX2NhbGxlcigpCiAgICBjYWxsc3ViIGVuc3VyZV9tYW5hZ2VyX2NhbGxlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzU0CiAgICAvLyBsb2NrZWRfYmFsYW5jZSA9IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UgKyBzZWxmLnR4bl9mdWVsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RNaW5CYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18wIC8vICJ0eG5fZnVlbCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi50eG5fZnVlbCBleGlzdHMKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM1NgogICAgLy8gbG9ja2VkX2JhbGFuY2UgKyBhbW91bnQgPD0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5iYWxhbmNlLAogICAgZnJhbWVfZGlnIC0xCiAgICArCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIDw9CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMQogICAgLy8gaWYgbm90IGNvbmQ6CiAgICBibnogd2l0aGRyYXdfZmVlc19hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM1NwogICAgLy8gUygiRVJSOk9WRVIiKSwKICAgIHB1c2hieXRlcyAiRVJSOk9WRVIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMgogICAgLy8gbG9nKG1zZykKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTMKICAgIC8vIG9wLmVycigpCiAgICBlcnIKCndpdGhkcmF3X2ZlZXNfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzYwCiAgICAvLyBUeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzU5LTM2MwogICAgLy8gc2VuZC5hbGdvX3BheSgKICAgIC8vICAgICBUeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudCwKICAgIC8vICAgICBVSW50NjQoMCksCiAgICAvLyApCiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM2MgogICAgLy8gVUludDY0KDApLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM1OS0zNjMKICAgIC8vIHNlbmQuYWxnb19wYXkoCiAgICAvLyAgICAgVHhuLnNlbmRlciwKICAgIC8vICAgICBhbW91bnQsCiAgICAvLyAgICAgVUludDY0KDApLAogICAgLy8gKQogICAgY2FsbHN1YiBhbGdvX3BheQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS5vcHRvdXQoYXNzZXQ6IHVpbnQ2NCkgLT4gdm9pZDoKb3B0b3V0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzY1LTM2NgogICAgLy8gQGFiaW1ldGhvZAogICAgLy8gZGVmIG9wdG91dChzZWxmLCBhc3NldDogQXNzZXQpIC0+IE5vbmU6CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM2NwogICAgLy8gc2VsZi5lbnN1cmVfbWFuYWdlcl9jYWxsZXIoKQogICAgY2FsbHN1YiBlbnN1cmVfbWFuYWdlcl9jYWxsZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM2OQogICAgLy8gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5pc19vcHRlZF9pbihhc3NldCksIFMoIkVSUjpOT1QgT1BURUQiKQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAtMQogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjExCiAgICAvLyBpZiBub3QgY29uZDoKICAgIGJueiBvcHRvdXRfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozNjkKICAgIC8vIEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MuaXNfb3B0ZWRfaW4oYXNzZXQpLCBTKCJFUlI6Tk9UIE9QVEVEIikKICAgIHB1c2hieXRlcyAiRVJSOk5PVCBPUFRFRCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEyCiAgICAvLyBsb2cobXNnKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL2N1c3RvbS5weToxMwogICAgLy8gb3AuZXJyKCkKICAgIGVycgoKb3B0b3V0X2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM3MgogICAgLy8gYXNzZXQuYmFsYW5jZShHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzKSA9PSAwLCBTKCJFUlI6QkFMQU5DRSIpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZnJhbWVfZGlnIC0xCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjExCiAgICAvLyBpZiBub3QgY29uZDoKICAgIGJ6IG9wdG91dF9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM3MgogICAgLy8gYXNzZXQuYmFsYW5jZShHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzKSA9PSAwLCBTKCJFUlI6QkFMQU5DRSIpCiAgICBwdXNoYnl0ZXMgIkVSUjpCQUxBTkNFIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTIKICAgIC8vIGxvZyhtc2cpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEzCiAgICAvLyBvcC5lcnIoKQogICAgZXJyCgpvcHRvdXRfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mzc0CiAgICAvLyBzZW5kLmF4ZmVyX2Nsb3Nlb3V0KGFzc2V0LCBzZWxmLm1hbmFnZXIsIFVJbnQ2NCgwKSkKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18xIC8vICJtYW5hZ2VyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLm1hbmFnZXIgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3NlbmQucHk6MjgtMzQKICAgIC8vIGl0eG4uQXNzZXRUcmFuc2ZlcigKICAgIC8vICAgICB4ZmVyX2Fzc2V0PWFzc2V0LAogICAgLy8gICAgIGFzc2V0X3JlY2VpdmVyPXJlY2VpdmVyLAogICAgLy8gICAgIGFzc2V0X2Ftb3VudD0wLAogICAgLy8gICAgIGFzc2V0X2Nsb3NlX3RvPXJlY2VpdmVyLAogICAgLy8gICAgIGZlZT1mZWUsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBkdXAKICAgIGl0eG5fZmllbGQgQXNzZXRDbG9zZVRvCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uL3NlbmQucHk6MzEKICAgIC8vIGFzc2V0X2Ftb3VudD0wLAogICAgaW50Y18xIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgZnJhbWVfZGlnIC0xCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9zZW5kLnB5OjI4CiAgICAvLyBpdHhuLkFzc2V0VHJhbnNmZXIoCiAgICBpbnRjXzIgLy8gYXhmZXIKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM3NAogICAgLy8gc2VuZC5heGZlcl9jbG9zZW91dChhc3NldCwgc2VsZi5tYW5hZ2VyLCBVSW50NjQoMCkpCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vc2VuZC5weToyOC0zNAogICAgLy8gaXR4bi5Bc3NldFRyYW5zZmVyKAogICAgLy8gICAgIHhmZXJfYXNzZXQ9YXNzZXQsCiAgICAvLyAgICAgYXNzZXRfcmVjZWl2ZXI9cmVjZWl2ZXIsCiAgICAvLyAgICAgYXNzZXRfYW1vdW50PTAsCiAgICAvLyAgICAgYXNzZXRfY2xvc2VfdG89cmVjZWl2ZXIsCiAgICAvLyAgICAgZmVlPWZlZSwKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuZHVhbHN0YWtlZmFybS5jb250cmFjdC5EdWFsc3Rha2VGYXJtLnVwZGF0ZV9tYXhfZHVyYXRpb25fZGF5cyhtYXhfZHVyYXRpb246IHVpbnQ2NCkgLT4gdm9pZDoKdXBkYXRlX21heF9kdXJhdGlvbl9kYXlzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mzc2LTM3NwogICAgLy8gQGFiaW1ldGhvZAogICAgLy8gZGVmIHVwZGF0ZV9tYXhfZHVyYXRpb25fZGF5cyhzZWxmLCBtYXhfZHVyYXRpb246IFVJbnQ2NCkgLT4gTm9uZToKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mzc4CiAgICAvLyBzZWxmLmVuc3VyZV9tYW5hZ2VyX2NhbGxlcigpCiAgICBjYWxsc3ViIGVuc3VyZV9tYW5hZ2VyX2NhbGxlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mzc5CiAgICAvLyBzZWxmLm1heF9kdXJhdGlvbl9kYXlzID0gbWF4X2R1cmF0aW9uCiAgICBieXRlYyA1IC8vICJtYXhfZHVyYXRpb25fZGF5cyIKICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0udXBkYXRlX21pbl9kdXJhdGlvbl9ibG9ja3MobWluX2R1cmF0aW9uOiB1aW50NjQpIC0+IHZvaWQ6CnVwZGF0ZV9taW5fZHVyYXRpb25fYmxvY2tzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzgxLTM4MgogICAgLy8gQGFiaW1ldGhvZAogICAgLy8gZGVmIHVwZGF0ZV9taW5fZHVyYXRpb25fYmxvY2tzKHNlbGYsIG1pbl9kdXJhdGlvbjogVUludDY0KSAtPiBOb25lOgogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozODMKICAgIC8vIHNlbGYuZW5zdXJlX21hbmFnZXJfY2FsbGVyKCkKICAgIGNhbGxzdWIgZW5zdXJlX21hbmFnZXJfY2FsbGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozODQKICAgIC8vIHNlbGYubWluX2R1cmF0aW9uX2Jsb2NrcyA9IG1pbl9kdXJhdGlvbgogICAgYnl0ZWMgNiAvLyAibWluX2R1cmF0aW9uX2Jsb2NrcyIKICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0uZ2V0X3N0YXRlKHJlY2lwaWVudF9hcHA6IHVpbnQ2NCkgLT4gYnl0ZXM6CmdldF9zdGF0ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM4Ni0zODcKICAgIC8vIEBhYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIC8vIGRlZiBnZXRfc3RhdGUoc2VsZiwgcmVjaXBpZW50X2FwcDogQXBwbGljYXRpb24pIC0+IEZhcm1TdGF0ZToKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mzg4CiAgICAvLyByZXR1cm4gc2VsZi5mYXJtc1tyZWNpcGllbnRfYXBwXQogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5mYXJtcyBlbnRyeSBleGlzdHMKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kdWFsc3Rha2VmYXJtLmNvbnRyYWN0LkR1YWxzdGFrZUZhcm0ubG9nX3N0YXRlcyhib3hfbmFtZXM6IGJ5dGVzKSAtPiB2b2lkOgpsb2dfc3RhdGVzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzkwLTM5MQogICAgLy8gQGFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgLy8gZGVmIGxvZ19zdGF0ZXMoc2VsZiwgYm94X25hbWVzOiBhcmM0LkR5bmFtaWNBcnJheVthcmM0LlVJbnQ2NF0pIC0+IE5vbmU6CiAgICBwcm90byAxIDAKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozOTIKICAgIC8vIGZvciBrIGluIHVyYW5nZShib3hfbmFtZXMubGVuZ3RoKToKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBpbnRjXzEgLy8gMAoKbG9nX3N0YXRlc19mb3JfaGVhZGVyQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozOTIKICAgIC8vIGZvciBrIGluIHVyYW5nZShib3hfbmFtZXMubGVuZ3RoKToKICAgIGZyYW1lX2RpZyAyCiAgICBmcmFtZV9kaWcgMQogICAgPAogICAgYnogbG9nX3N0YXRlc19hZnRlcl9mb3JANwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzkzCiAgICAvLyBib3hfbmFtZSA9IGNhc3QoQXBwbGljYXRpb24sIGJveF9uYW1lc1trXSkKICAgIGZyYW1lX2RpZyAtMQogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAyCiAgICBwdXNoaW50IDggLy8gOAogICAgKgogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM5NAogICAgLy8gaWYgYm94X25hbWUgaW4gc2VsZi5mYXJtczoKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogbG9nX3N0YXRlc19lbHNlX2JvZHlANAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6Mzk1CiAgICAvLyBsb2coc2VsZi5mYXJtc1tib3hfbmFtZV0pCiAgICBmcmFtZV9kaWcgMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZmFybXMgZW50cnkgZXhpc3RzCiAgICBsb2cKCmxvZ19zdGF0ZXNfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6MzkyCiAgICAvLyBmb3IgayBpbiB1cmFuZ2UoYm94X25hbWVzLmxlbmd0aCk6CiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMgogICAgYiBsb2dfc3RhdGVzX2Zvcl9oZWFkZXJAMQoKbG9nX3N0YXRlc19lbHNlX2JvZHlANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjM5NwogICAgLy8gbG9nKEZhcm1TdGF0ZS5mcm9tX2J5dGVzKGIiIikpCiAgICBieXRlY18zIC8vIDB4CiAgICBsb2cKICAgIGIgbG9nX3N0YXRlc19hZnRlcl9pZl9lbHNlQDUKCmxvZ19zdGF0ZXNfYWZ0ZXJfZm9yQDc6CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuZHVhbHN0YWtlZmFybS5jb250cmFjdC5EdWFsc3Rha2VGYXJtLmxvZ19ibG9ja19wcm9wb3NlcnMoc3RhcnRfcm91bmQ6IHVpbnQ2NCwgZW5kX3JvdW5kOiB1aW50NjQpIC0+IHZvaWQ6CmxvZ19ibG9ja19wcm9wb3NlcnM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTozOTktNDAwCiAgICAvLyBAYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICAvLyBkZWYgbG9nX2Jsb2NrX3Byb3Bvc2VycyhzZWxmLCBzdGFydF9yb3VuZDogVUludDY0LCBlbmRfcm91bmQ6IFVJbnQ2NCkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NDAxCiAgICAvLyBmb3Igcm5kIGluIHVyYW5nZShzdGFydF9yb3VuZCwgZW5kX3JvdW5kICsgMSk6CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBmcmFtZV9kaWcgLTIKCmxvZ19ibG9ja19wcm9wb3NlcnNfZm9yX2hlYWRlckAxOgogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NDAxCiAgICAvLyBmb3Igcm5kIGluIHVyYW5nZShzdGFydF9yb3VuZCwgZW5kX3JvdW5kICsgMSk6CiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfZGlnIDAKICAgIDwKICAgIGJ6IGxvZ19ibG9ja19wcm9wb3NlcnNfYWZ0ZXJfZm9yQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjQwMgogICAgLy8gbG9nKG9wLkJsb2NrLmJsa19wcm9wb3NlcihybmQpKQogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgYmxvY2sgQmxrUHJvcG9zZXIKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2R1YWxzdGFrZWZhcm0vY29udHJhY3QucHk6NDAxCiAgICAvLyBmb3Igcm5kIGluIHVyYW5nZShzdGFydF9yb3VuZCwgZW5kX3JvdW5kICsgMSk6CiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAxCiAgICBiIGxvZ19ibG9ja19wcm9wb3NlcnNfZm9yX2hlYWRlckAxCgpsb2dfYmxvY2tfcHJvcG9zZXJzX2FmdGVyX2ZvckA0OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmR1YWxzdGFrZWZhcm0uY29udHJhY3QuRHVhbHN0YWtlRmFybS5lbnN1cmVfbWFuYWdlcl9jYWxsZXIoKSAtPiB2b2lkOgplbnN1cmVfbWFuYWdlcl9jYWxsZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo0MDQtNDA1CiAgICAvLyBAc3Vicm91dGluZQogICAgLy8gZGVmIGVuc3VyZV9tYW5hZ2VyX2NhbGxlcihzZWxmKSAtPiBOb25lOgogICAgcHJvdG8gMCAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZHVhbHN0YWtlZmFybS9jb250cmFjdC5weTo0MDYKICAgIC8vIGN1c3RvbS5lbnN1cmUoVHhuLnNlbmRlciA9PSBzZWxmLm1hbmFnZXIsIFMoIkVSUjpVTkFVVEgiKSkKICAgIHR4biBTZW5kZXIKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18xIC8vICJtYW5hZ2VyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLm1hbmFnZXIgZXhpc3RzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTEKICAgIC8vIGlmIG5vdCBjb25kOgogICAgYm56IGVuc3VyZV9tYW5hZ2VyX2NhbGxlcl9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kdWFsc3Rha2VmYXJtL2NvbnRyYWN0LnB5OjQwNgogICAgLy8gY3VzdG9tLmVuc3VyZShUeG4uc2VuZGVyID09IHNlbGYubWFuYWdlciwgUygiRVJSOlVOQVVUSCIpKQogICAgcHVzaGJ5dGVzICJFUlI6VU5BVVRIIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi9jdXN0b20ucHk6MTIKICAgIC8vIGxvZyhtc2cpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24vY3VzdG9tLnB5OjEzCiAgICAvLyBvcC5lcnIoKQogICAgZXJyCgplbnN1cmVfbWFuYWdlcl9jYWxsZXJfYWZ0ZXJfaWZfZWxzZUAzOgogICAgcmV0c3ViCg==","clear":"I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuY2xlYXJfc3RhdGVfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIHB1c2hpbnQgMSAvLyAxCiAgICByZXR1cm4K"},"bareActions":{"create":["NoOp"],"call":["DeleteApplication","UpdateApplication"]}} as unknown as Arc56Contract

/**
 * A state record containing binary data
 */
export interface BinaryState {
  /**
   * Gets the state value as a Uint8Array
   */
  asByteArray(): Uint8Array | undefined
  /**
   * Gets the state value as a string
   */
  asString(): string | undefined
}

class BinaryStateValue implements BinaryState {
  constructor(private value: Uint8Array | undefined) {}

  asByteArray(): Uint8Array | undefined {
    return this.value
  }

  asString(): string | undefined {
    return this.value !== undefined ? Buffer.from(this.value).toString('utf-8') : undefined
  }
}

/**
 * Expands types for IntelliSense so they are more human readable
 * See https://stackoverflow.com/a/69288824
 */
export type Expand<T> = T extends (...args: infer A) => infer R
  ? (...args: Expand<A>) => Expand<R>
  : T extends infer O
    ? { [K in keyof O]: O[K] }
    : never


// Type definitions for ARC-56 structs

export type AlgoCost = {
  algoCost: bigint,
  optinCost: bigint,
  boxCost: bigint,
  farmCost: bigint
}


/**
 * Converts the ABI tuple representation of a AlgoCost to the struct representation
 */
export function AlgoCostFromTuple(abiTuple: [bigint, bigint, bigint, bigint]) {
  return getABIStructFromABITuple(abiTuple, APP_SPEC.structs.AlgoCost, APP_SPEC.structs) as AlgoCost
}

export type AlgoCostAndMaxDuration = {
  algoCost: bigint,
  optinCost: bigint,
  boxCost: bigint,
  farmCost: bigint,
  maxDuration: bigint
}


/**
 * Converts the ABI tuple representation of a AlgoCostAndMaxDuration to the struct representation
 */
export function AlgoCostAndMaxDurationFromTuple(abiTuple: [bigint, bigint, bigint, bigint, bigint]) {
  return getABIStructFromABITuple(abiTuple, APP_SPEC.structs.AlgoCostAndMaxDuration, APP_SPEC.structs) as AlgoCostAndMaxDuration
}

export type FarmState = {
  farmAsset: bigint,
  amountPerBlock: bigint,
  remainingDurationBlocks: bigint,
  lastBlockPaid: bigint
}


/**
 * Converts the ABI tuple representation of a FarmState to the struct representation
 */
export function FarmStateFromTuple(abiTuple: [bigint, bigint, bigint, bigint]) {
  return getABIStructFromABITuple(abiTuple, APP_SPEC.structs.FarmState, APP_SPEC.structs) as FarmState
}

/**
 * The argument types for the DualstakeFarm contract
 */
export type DualstakeFarmArgs = {
  /**
   * The object representation of the arguments for each method
   */
  obj: {
    'get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)': {
      recipientApp: bigint
      farmAsset: bigint
      durationBlocks: bigint | number
    }
    'get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)': {
      recipientApp: bigint
      farmAsset: bigint
      durationBlocks: bigint | number
    }
    'create_farm(application,asset,uint64,uint64)void': {
      recipientApp: bigint
      farmAsset: bigint
      amountPerBlock: bigint | number
      durationBlocks: bigint | number
    }
    'extend_duration_blocks(application,uint64)void': {
      recipientApp: bigint
      durationBlocks: bigint | number
    }
    'extend_amount_per_block(application,uint64)void': {
      recipientApp: bigint
      amountPerBlock: bigint | number
    }
    'payout(application,uint64,bool)void': {
      recipientApp: bigint
      blockRound: bigint | number
      callSwap: boolean
    }
    'noop()void': Record<string, never>
    'withdraw_fees(uint64)void': {
      amount: bigint | number
    }
    'optout(asset)void': {
      asset: bigint
    }
    'update_max_duration_days(uint64)void': {
      maxDuration: bigint | number
    }
    'update_min_duration_blocks(uint64)void': {
      minDuration: bigint | number
    }
    'get_state(application)(uint64,uint64,uint64,uint64)': {
      recipientApp: bigint
    }
    'log_states(uint64[])void': {
      boxNames: bigint[] | number[]
    }
    'log_block_proposers(uint64,uint64)void': {
      startRound: bigint | number
      endRound: bigint | number
    }
  }
  /**
   * The tuple representation of the arguments for each method
   */
  tuple: {
    'get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)': [recipientApp: bigint, farmAsset: bigint, durationBlocks: bigint | number]
    'get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)': [recipientApp: bigint, farmAsset: bigint, durationBlocks: bigint | number]
    'create_farm(application,asset,uint64,uint64)void': [recipientApp: bigint, farmAsset: bigint, amountPerBlock: bigint | number, durationBlocks: bigint | number]
    'extend_duration_blocks(application,uint64)void': [recipientApp: bigint, durationBlocks: bigint | number]
    'extend_amount_per_block(application,uint64)void': [recipientApp: bigint, amountPerBlock: bigint | number]
    'payout(application,uint64,bool)void': [recipientApp: bigint, blockRound: bigint | number, callSwap: boolean]
    'noop()void': []
    'withdraw_fees(uint64)void': [amount: bigint | number]
    'optout(asset)void': [asset: bigint]
    'update_max_duration_days(uint64)void': [maxDuration: bigint | number]
    'update_min_duration_blocks(uint64)void': [minDuration: bigint | number]
    'get_state(application)(uint64,uint64,uint64,uint64)': [recipientApp: bigint]
    'log_states(uint64[])void': [boxNames: bigint[] | number[]]
    'log_block_proposers(uint64,uint64)void': [startRound: bigint | number, endRound: bigint | number]
  }
}

/**
 * The return type for each method
 */
export type DualstakeFarmReturns = {
  'get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)': AlgoCost
  'get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)': AlgoCostAndMaxDuration
  'create_farm(application,asset,uint64,uint64)void': void
  'extend_duration_blocks(application,uint64)void': void
  'extend_amount_per_block(application,uint64)void': void
  'payout(application,uint64,bool)void': void
  'noop()void': void
  'withdraw_fees(uint64)void': void
  'optout(asset)void': void
  'update_max_duration_days(uint64)void': void
  'update_min_duration_blocks(uint64)void': void
  'get_state(application)(uint64,uint64,uint64,uint64)': FarmState
  'log_states(uint64[])void': void
  'log_block_proposers(uint64,uint64)void': void
}

/**
 * Defines the types of available calls and state of the DualstakeFarm smart contract.
 */
export type DualstakeFarmTypes = {
  /**
   * Maps method signatures / names to their argument and return types.
   */
  methods:
    & Record<'get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)' | 'get_algo_cost', {
      argsObj: DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']
      argsTuple: DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']
      returns: DualstakeFarmReturns['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']
    }>
    & Record<'get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)' | 'get_algo_cost_and_max_duration', {
      argsObj: DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']
      argsTuple: DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']
      returns: DualstakeFarmReturns['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']
    }>
    & Record<'create_farm(application,asset,uint64,uint64)void' | 'create_farm', {
      argsObj: DualstakeFarmArgs['obj']['create_farm(application,asset,uint64,uint64)void']
      argsTuple: DualstakeFarmArgs['tuple']['create_farm(application,asset,uint64,uint64)void']
      returns: DualstakeFarmReturns['create_farm(application,asset,uint64,uint64)void']
    }>
    & Record<'extend_duration_blocks(application,uint64)void' | 'extend_duration_blocks', {
      argsObj: DualstakeFarmArgs['obj']['extend_duration_blocks(application,uint64)void']
      argsTuple: DualstakeFarmArgs['tuple']['extend_duration_blocks(application,uint64)void']
      returns: DualstakeFarmReturns['extend_duration_blocks(application,uint64)void']
    }>
    & Record<'extend_amount_per_block(application,uint64)void' | 'extend_amount_per_block', {
      argsObj: DualstakeFarmArgs['obj']['extend_amount_per_block(application,uint64)void']
      argsTuple: DualstakeFarmArgs['tuple']['extend_amount_per_block(application,uint64)void']
      returns: DualstakeFarmReturns['extend_amount_per_block(application,uint64)void']
    }>
    & Record<'payout(application,uint64,bool)void' | 'payout', {
      argsObj: DualstakeFarmArgs['obj']['payout(application,uint64,bool)void']
      argsTuple: DualstakeFarmArgs['tuple']['payout(application,uint64,bool)void']
      returns: DualstakeFarmReturns['payout(application,uint64,bool)void']
    }>
    & Record<'noop()void' | 'noop', {
      argsObj: DualstakeFarmArgs['obj']['noop()void']
      argsTuple: DualstakeFarmArgs['tuple']['noop()void']
      returns: DualstakeFarmReturns['noop()void']
    }>
    & Record<'withdraw_fees(uint64)void' | 'withdraw_fees', {
      argsObj: DualstakeFarmArgs['obj']['withdraw_fees(uint64)void']
      argsTuple: DualstakeFarmArgs['tuple']['withdraw_fees(uint64)void']
      returns: DualstakeFarmReturns['withdraw_fees(uint64)void']
    }>
    & Record<'optout(asset)void' | 'optout', {
      argsObj: DualstakeFarmArgs['obj']['optout(asset)void']
      argsTuple: DualstakeFarmArgs['tuple']['optout(asset)void']
      returns: DualstakeFarmReturns['optout(asset)void']
    }>
    & Record<'update_max_duration_days(uint64)void' | 'update_max_duration_days', {
      argsObj: DualstakeFarmArgs['obj']['update_max_duration_days(uint64)void']
      argsTuple: DualstakeFarmArgs['tuple']['update_max_duration_days(uint64)void']
      returns: DualstakeFarmReturns['update_max_duration_days(uint64)void']
    }>
    & Record<'update_min_duration_blocks(uint64)void' | 'update_min_duration_blocks', {
      argsObj: DualstakeFarmArgs['obj']['update_min_duration_blocks(uint64)void']
      argsTuple: DualstakeFarmArgs['tuple']['update_min_duration_blocks(uint64)void']
      returns: DualstakeFarmReturns['update_min_duration_blocks(uint64)void']
    }>
    & Record<'get_state(application)(uint64,uint64,uint64,uint64)' | 'get_state', {
      argsObj: DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)']
      argsTuple: DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']
      returns: DualstakeFarmReturns['get_state(application)(uint64,uint64,uint64,uint64)']
    }>
    & Record<'log_states(uint64[])void' | 'log_states', {
      argsObj: DualstakeFarmArgs['obj']['log_states(uint64[])void']
      argsTuple: DualstakeFarmArgs['tuple']['log_states(uint64[])void']
      returns: DualstakeFarmReturns['log_states(uint64[])void']
    }>
    & Record<'log_block_proposers(uint64,uint64)void' | 'log_block_proposers', {
      argsObj: DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void']
      argsTuple: DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']
      returns: DualstakeFarmReturns['log_block_proposers(uint64,uint64)void']
    }>
  /**
   * Defines the shape of the state of the application.
   */
  state: {
    global: {
      keys: {
        manager: BinaryState
        maxDurationDays: bigint
        minDurationBlocks: bigint
        txnFuel: bigint
      }
      maps: {}
    }
  }
}

/**
 * Defines the possible abi call signatures.
 */
export type DualstakeFarmSignatures = keyof DualstakeFarmTypes['methods']
/**
 * Defines the possible abi call signatures for methods that return a non-void value.
 */
export type DualstakeFarmNonVoidMethodSignatures = keyof DualstakeFarmTypes['methods'] extends infer T ? T extends keyof DualstakeFarmTypes['methods'] ? MethodReturn<T> extends void ? never : T  : never : never
/**
 * Defines an object containing all relevant parameters for a single call to the contract.
 */
export type CallParams<TArgs> = Expand<
  Omit<AppClientMethodCallParams, 'method' | 'args' | 'onComplete'> &
    {
      /** The args for the ABI method call, either as an ordered array or an object */
      args: Expand<TArgs>
    }
>
/**
 * Maps a method signature from the DualstakeFarm smart contract to the method's arguments in either tuple or struct form
 */
export type MethodArgs<TSignature extends DualstakeFarmSignatures> = DualstakeFarmTypes['methods'][TSignature]['argsObj' | 'argsTuple']
/**
 * Maps a method signature from the DualstakeFarm smart contract to the method's return type
 */
export type MethodReturn<TSignature extends DualstakeFarmSignatures> = DualstakeFarmTypes['methods'][TSignature]['returns']

/**
 * Defines the shape of the keyed global state of the application.
 */
export type GlobalKeysState = DualstakeFarmTypes['state']['global']['keys']


/**
 * Defines supported create method params for this smart contract
 */
export type DualstakeFarmCreateCallParams =
  | Expand<AppClientBareCallParams & {method?: never} & {onComplete?: OnApplicationComplete.NoOpOC} & CreateSchema>
/**
 * Defines supported update method params for this smart contract
 */
export type DualstakeFarmUpdateCallParams =
  | Expand<AppClientBareCallParams> & {method?: never}
/**
 * Defines supported delete method params for this smart contract
 */
export type DualstakeFarmDeleteCallParams =
  | Expand<AppClientBareCallParams> & {method?: never}
/**
 * Defines arguments required for the deploy method.
 */
export type DualstakeFarmDeployParams = Expand<Omit<AppFactoryDeployParams, 'createParams' | 'updateParams' | 'deleteParams'> & {
  /**
   * Create transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  createParams?: DualstakeFarmCreateCallParams
  /**
   * Update transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  updateParams?: DualstakeFarmUpdateCallParams
  /**
   * Delete transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  deleteParams?: DualstakeFarmDeleteCallParams
}>


/**
 * Exposes methods for constructing `AppClient` params objects for ABI calls to the DualstakeFarm smart contract
 */
export abstract class DualstakeFarmParamsFactory {
  /**
   * Constructs a no op call for the get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64) ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getAlgoCost(params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.recipientApp, params.args.farmAsset, params.args.durationBlocks],
    }
  }
  /**
   * Constructs a no op call for the get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64) ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getAlgoCostAndMaxDuration(params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.recipientApp, params.args.farmAsset, params.args.durationBlocks],
    }
  }
  /**
   * Constructs a no op call for the create_farm(application,asset,uint64,uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static createFarm(params: CallParams<DualstakeFarmArgs['obj']['create_farm(application,asset,uint64,uint64)void'] | DualstakeFarmArgs['tuple']['create_farm(application,asset,uint64,uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'create_farm(application,asset,uint64,uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.recipientApp, params.args.farmAsset, params.args.amountPerBlock, params.args.durationBlocks],
    }
  }
  /**
   * Constructs a no op call for the extend_duration_blocks(application,uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static extendDurationBlocks(params: CallParams<DualstakeFarmArgs['obj']['extend_duration_blocks(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_duration_blocks(application,uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'extend_duration_blocks(application,uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.recipientApp, params.args.durationBlocks],
    }
  }
  /**
   * Constructs a no op call for the extend_amount_per_block(application,uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static extendAmountPerBlock(params: CallParams<DualstakeFarmArgs['obj']['extend_amount_per_block(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_amount_per_block(application,uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'extend_amount_per_block(application,uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.recipientApp, params.args.amountPerBlock],
    }
  }
  /**
   * Constructs a no op call for the payout(application,uint64,bool)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static payout(params: CallParams<DualstakeFarmArgs['obj']['payout(application,uint64,bool)void'] | DualstakeFarmArgs['tuple']['payout(application,uint64,bool)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'payout(application,uint64,bool)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.recipientApp, params.args.blockRound, params.args.callSwap],
    }
  }
  /**
   * Constructs a no op call for the noop()void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static noop(params: CallParams<DualstakeFarmArgs['obj']['noop()void'] | DualstakeFarmArgs['tuple']['noop()void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'noop()void' as const,
      args: Array.isArray(params.args) ? params.args : [],
    }
  }
  /**
   * Constructs a no op call for the withdraw_fees(uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static withdrawFees(params: CallParams<DualstakeFarmArgs['obj']['withdraw_fees(uint64)void'] | DualstakeFarmArgs['tuple']['withdraw_fees(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'withdraw_fees(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.amount],
    }
  }
  /**
   * Constructs a no op call for the optout(asset)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static optout(params: CallParams<DualstakeFarmArgs['obj']['optout(asset)void'] | DualstakeFarmArgs['tuple']['optout(asset)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'optout(asset)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.asset],
    }
  }
  /**
   * Constructs a no op call for the update_max_duration_days(uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static updateMaxDurationDays(params: CallParams<DualstakeFarmArgs['obj']['update_max_duration_days(uint64)void'] | DualstakeFarmArgs['tuple']['update_max_duration_days(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'update_max_duration_days(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.maxDuration],
    }
  }
  /**
   * Constructs a no op call for the update_min_duration_blocks(uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static updateMinDurationBlocks(params: CallParams<DualstakeFarmArgs['obj']['update_min_duration_blocks(uint64)void'] | DualstakeFarmArgs['tuple']['update_min_duration_blocks(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'update_min_duration_blocks(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.minDuration],
    }
  }
  /**
   * Constructs a no op call for the get_state(application)(uint64,uint64,uint64,uint64) ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getState(params: CallParams<DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'get_state(application)(uint64,uint64,uint64,uint64)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.recipientApp],
    }
  }
  /**
   * Constructs a no op call for the log_states(uint64[])void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static logStates(params: CallParams<DualstakeFarmArgs['obj']['log_states(uint64[])void'] | DualstakeFarmArgs['tuple']['log_states(uint64[])void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'log_states(uint64[])void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.boxNames],
    }
  }
  /**
   * Constructs a no op call for the log_block_proposers(uint64,uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static logBlockProposers(params: CallParams<DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void'] | DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'log_block_proposers(uint64,uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.startRound, params.args.endRound],
    }
  }
}

/**
 * A factory to create and deploy one or more instance of the DualstakeFarm smart contract and to create one or more app clients to interact with those (or other) app instances
 */
export class DualstakeFarmFactory {
  /**
   * The underlying `AppFactory` for when you want to have more flexibility
   */
  public readonly appFactory: _AppFactory

  /**
   * Creates a new instance of `DualstakeFarmFactory`
   *
   * @param params The parameters to initialise the app factory with
   */
  constructor(params: Omit<AppFactoryParams, 'appSpec'>) {
    this.appFactory = new _AppFactory({
      ...params,
      appSpec: APP_SPEC,
    })
  }
  
  /** The name of the app (from the ARC-32 / ARC-56 app spec or override). */
  public get appName() {
    return this.appFactory.appName
  }
  
  /** The ARC-56 app spec being used */
  get appSpec() {
    return APP_SPEC
  }
  
  /** A reference to the underlying `AlgorandClient` this app factory is using. */
  public get algorand(): AlgorandClientInterface {
    return this.appFactory.algorand
  }
  
  /**
   * Returns a new `AppClient` client for an app instance of the given ID.
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public getAppClientById(params: AppFactoryAppClientParams) {
    return new DualstakeFarmClient(this.appFactory.getAppClientById(params))
  }
  
  /**
   * Returns a new `AppClient` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public async getAppClientByCreatorAndName(
    params: AppFactoryResolveAppClientByCreatorAndNameParams,
  ) {
    return new DualstakeFarmClient(await this.appFactory.getAppClientByCreatorAndName(params))
  }

  /**
   * Idempotently deploys the DualstakeFarm smart contract.
   *
   * @param params The arguments for the contract calls and any additional parameters for the call
   * @returns The deployment result
   */
  public async deploy(params: DualstakeFarmDeployParams = {}) {
    const result = await this.appFactory.deploy({
      ...params,
    })
    return { result: result.result, appClient: new DualstakeFarmClient(result.appClient) }
  }

  /**
   * Get parameters to create transactions (create and deploy related calls) for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The params for a create call
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        return this.appFactory.params.bare.create(params)
      },
    },

    /**
     * Gets available deployUpdate methods
     */
    deployUpdate: {
      /**
       * Updates an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The params for a deployUpdate call
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams>) => {
        return this.appFactory.params.bare.deployUpdate(params)
      },
    },

    /**
     * Gets available deployDelete methods
     */
    deployDelete: {
      /**
       * Deletes an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The params for a deployDelete call
       */
      bare: (params?: Expand<AppClientBareCallParams>) => {
        return this.appFactory.params.bare.deployDelete(params)
      },
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The transaction for a create call
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        return this.appFactory.createTransaction.bare.create(params)
      },
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The create result
       */
      bare: async (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        const result = await this.appFactory.send.bare.create(params)
        return { result: result.result, appClient: new DualstakeFarmClient(result.appClient) }
      },
    },

  }

}
/**
 * A client to make calls to the DualstakeFarm smart contract
 */
export class DualstakeFarmClient {
  /**
   * The underlying `AppClient` for when you want to have more flexibility
   */
  public readonly appClient: _AppClient

  /**
   * Creates a new instance of `DualstakeFarmClient`
   *
   * @param appClient An `AppClient` instance which has been created with the DualstakeFarm app spec
   */
  constructor(appClient: _AppClient)
  /**
   * Creates a new instance of `DualstakeFarmClient`
   *
   * @param params The parameters to initialise the app client with
   */
  constructor(params: Omit<AppClientParams, 'appSpec'>)
  constructor(appClientOrParams: _AppClient | Omit<AppClientParams, 'appSpec'>) {
    this.appClient = appClientOrParams instanceof _AppClient ? appClientOrParams : new _AppClient({
      ...appClientOrParams,
      appSpec: APP_SPEC,
    })
  }
  
  /**
   * Checks for decode errors on the given return value and maps the return value to the return type for the given method
   * @returns The typed return value or undefined if there was no value
   */
  decodeReturnValue<TSignature extends DualstakeFarmNonVoidMethodSignatures>(method: TSignature, returnValue: ABIReturn | undefined) {
    return returnValue !== undefined ? getArc56ReturnValue<MethodReturn<TSignature>>(returnValue, this.appClient.getABIMethod(method), APP_SPEC.structs) : undefined
  }
  
  /**
   * Returns a new `DualstakeFarmClient` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   * @param params The parameters to create the app client
   */
  public static async fromCreatorAndName(params: Omit<ResolveAppClientByCreatorAndName, 'appSpec'>): Promise<DualstakeFarmClient> {
    return new DualstakeFarmClient(await _AppClient.fromCreatorAndName({...params, appSpec: APP_SPEC}))
  }
  
  /**
   * Returns an `DualstakeFarmClient` instance for the current network based on
   * pre-determined network-specific app IDs specified in the ARC-56 app spec.
   *
   * If no IDs are in the app spec or the network isn't recognised, an error is thrown.
   * @param params The parameters to create the app client
   */
  static async fromNetwork(
    params: Omit<ResolveAppClientByNetwork, 'appSpec'>
  ): Promise<DualstakeFarmClient> {
    return new DualstakeFarmClient(await _AppClient.fromNetwork({...params, appSpec: APP_SPEC}))
  }
  
  /** The ID of the app instance this client is linked to. */
  public get appId() {
    return this.appClient.appId
  }
  
  /** The app address of the app instance this client is linked to. */
  public get appAddress() {
    return this.appClient.appAddress
  }
  
  /** The name of the app. */
  public get appName() {
    return this.appClient.appName
  }
  
  /** The ARC-56 app spec being used */
  public get appSpec() {
    return this.appClient.appSpec
  }
  
  /** A reference to the underlying `AlgorandClient` this app client is using. */
  public get algorand(): AlgorandClientInterface {
    return this.appClient.algorand
  }

  /**
   * Get parameters to create transactions for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Gets available update methods
     */
    update: {
      /**
       * Updates an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The update result
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams>) => {
        return this.appClient.params.bare.update(params)
      },
    },

    /**
     * Gets available delete methods
     */
    delete: {
      /**
       * Deletes an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The delete result
       */
      bare: (params?: Expand<AppClientBareCallParams>) => {
        return this.appClient.params.bare.delete(params)
      },
    },

    /**
     * Makes a clear_state call to an existing instance of the DualstakeFarm smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.params.bare.clearState(params)
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getAlgoCost: (params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.getAlgoCost(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getAlgoCostAndMaxDuration: (params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.getAlgoCostAndMaxDuration(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `create_farm(application,asset,uint64,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    createFarm: (params: CallParams<DualstakeFarmArgs['obj']['create_farm(application,asset,uint64,uint64)void'] | DualstakeFarmArgs['tuple']['create_farm(application,asset,uint64,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.createFarm(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `extend_duration_blocks(application,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    extendDurationBlocks: (params: CallParams<DualstakeFarmArgs['obj']['extend_duration_blocks(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_duration_blocks(application,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.extendDurationBlocks(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `extend_amount_per_block(application,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    extendAmountPerBlock: (params: CallParams<DualstakeFarmArgs['obj']['extend_amount_per_block(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_amount_per_block(application,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.extendAmountPerBlock(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `payout(application,uint64,bool)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    payout: (params: CallParams<DualstakeFarmArgs['obj']['payout(application,uint64,bool)void'] | DualstakeFarmArgs['tuple']['payout(application,uint64,bool)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.payout(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `noop()void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    noop: (params: CallParams<DualstakeFarmArgs['obj']['noop()void'] | DualstakeFarmArgs['tuple']['noop()void']> & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.noop(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `withdraw_fees(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    withdrawFees: (params: CallParams<DualstakeFarmArgs['obj']['withdraw_fees(uint64)void'] | DualstakeFarmArgs['tuple']['withdraw_fees(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.withdrawFees(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `optout(asset)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    optout: (params: CallParams<DualstakeFarmArgs['obj']['optout(asset)void'] | DualstakeFarmArgs['tuple']['optout(asset)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.optout(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `update_max_duration_days(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    updateMaxDurationDays: (params: CallParams<DualstakeFarmArgs['obj']['update_max_duration_days(uint64)void'] | DualstakeFarmArgs['tuple']['update_max_duration_days(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.updateMaxDurationDays(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `update_min_duration_blocks(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    updateMinDurationBlocks: (params: CallParams<DualstakeFarmArgs['obj']['update_min_duration_blocks(uint64)void'] | DualstakeFarmArgs['tuple']['update_min_duration_blocks(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.updateMinDurationBlocks(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_state(application)(uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getState: (params: CallParams<DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.getState(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `log_states(uint64[])void` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    logStates: (params: CallParams<DualstakeFarmArgs['obj']['log_states(uint64[])void'] | DualstakeFarmArgs['tuple']['log_states(uint64[])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.logStates(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `log_block_proposers(uint64,uint64)void` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    logBlockProposers: (params: CallParams<DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void'] | DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(DualstakeFarmParamsFactory.logBlockProposers(params))
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Gets available update methods
     */
    update: {
      /**
       * Updates an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The update result
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams>) => {
        return this.appClient.createTransaction.bare.update(params)
      },
    },

    /**
     * Gets available delete methods
     */
    delete: {
      /**
       * Deletes an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The delete result
       */
      bare: (params?: Expand<AppClientBareCallParams>) => {
        return this.appClient.createTransaction.bare.delete(params)
      },
    },

    /**
     * Makes a clear_state call to an existing instance of the DualstakeFarm smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.createTransaction.bare.clearState(params)
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getAlgoCost: (params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.getAlgoCost(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getAlgoCostAndMaxDuration: (params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.getAlgoCostAndMaxDuration(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `create_farm(application,asset,uint64,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    createFarm: (params: CallParams<DualstakeFarmArgs['obj']['create_farm(application,asset,uint64,uint64)void'] | DualstakeFarmArgs['tuple']['create_farm(application,asset,uint64,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.createFarm(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `extend_duration_blocks(application,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    extendDurationBlocks: (params: CallParams<DualstakeFarmArgs['obj']['extend_duration_blocks(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_duration_blocks(application,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.extendDurationBlocks(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `extend_amount_per_block(application,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    extendAmountPerBlock: (params: CallParams<DualstakeFarmArgs['obj']['extend_amount_per_block(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_amount_per_block(application,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.extendAmountPerBlock(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `payout(application,uint64,bool)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    payout: (params: CallParams<DualstakeFarmArgs['obj']['payout(application,uint64,bool)void'] | DualstakeFarmArgs['tuple']['payout(application,uint64,bool)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.payout(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `noop()void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    noop: (params: CallParams<DualstakeFarmArgs['obj']['noop()void'] | DualstakeFarmArgs['tuple']['noop()void']> & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.noop(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `withdraw_fees(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    withdrawFees: (params: CallParams<DualstakeFarmArgs['obj']['withdraw_fees(uint64)void'] | DualstakeFarmArgs['tuple']['withdraw_fees(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.withdrawFees(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `optout(asset)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    optout: (params: CallParams<DualstakeFarmArgs['obj']['optout(asset)void'] | DualstakeFarmArgs['tuple']['optout(asset)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.optout(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `update_max_duration_days(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    updateMaxDurationDays: (params: CallParams<DualstakeFarmArgs['obj']['update_max_duration_days(uint64)void'] | DualstakeFarmArgs['tuple']['update_max_duration_days(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.updateMaxDurationDays(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `update_min_duration_blocks(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    updateMinDurationBlocks: (params: CallParams<DualstakeFarmArgs['obj']['update_min_duration_blocks(uint64)void'] | DualstakeFarmArgs['tuple']['update_min_duration_blocks(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.updateMinDurationBlocks(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_state(application)(uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getState: (params: CallParams<DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.getState(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `log_states(uint64[])void` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    logStates: (params: CallParams<DualstakeFarmArgs['obj']['log_states(uint64[])void'] | DualstakeFarmArgs['tuple']['log_states(uint64[])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.logStates(params))
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `log_block_proposers(uint64,uint64)void` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    logBlockProposers: (params: CallParams<DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void'] | DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(DualstakeFarmParamsFactory.logBlockProposers(params))
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Gets available update methods
     */
    update: {
      /**
       * Updates an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The update result
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & SendParams>) => {
        return this.appClient.send.bare.update(params)
      },
    },

    /**
     * Gets available delete methods
     */
    delete: {
      /**
       * Deletes an existing instance of the DualstakeFarm smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The delete result
       */
      bare: (params?: Expand<AppClientBareCallParams & SendParams>) => {
        return this.appClient.send.bare.delete(params)
      },
    },

    /**
     * Makes a clear_state call to an existing instance of the DualstakeFarm smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams & SendParams>) => {
      return this.appClient.send.bare.clearState(params)
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getAlgoCost: async (params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.getAlgoCost(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getAlgoCostAndMaxDuration: async (params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.getAlgoCostAndMaxDuration(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `create_farm(application,asset,uint64,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    createFarm: async (params: CallParams<DualstakeFarmArgs['obj']['create_farm(application,asset,uint64,uint64)void'] | DualstakeFarmArgs['tuple']['create_farm(application,asset,uint64,uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.createFarm(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['create_farm(application,asset,uint64,uint64)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `extend_duration_blocks(application,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    extendDurationBlocks: async (params: CallParams<DualstakeFarmArgs['obj']['extend_duration_blocks(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_duration_blocks(application,uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.extendDurationBlocks(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['extend_duration_blocks(application,uint64)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `extend_amount_per_block(application,uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    extendAmountPerBlock: async (params: CallParams<DualstakeFarmArgs['obj']['extend_amount_per_block(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_amount_per_block(application,uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.extendAmountPerBlock(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['extend_amount_per_block(application,uint64)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `payout(application,uint64,bool)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    payout: async (params: CallParams<DualstakeFarmArgs['obj']['payout(application,uint64,bool)void'] | DualstakeFarmArgs['tuple']['payout(application,uint64,bool)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.payout(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['payout(application,uint64,bool)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `noop()void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    noop: async (params: CallParams<DualstakeFarmArgs['obj']['noop()void'] | DualstakeFarmArgs['tuple']['noop()void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.noop(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['noop()void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `withdraw_fees(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    withdrawFees: async (params: CallParams<DualstakeFarmArgs['obj']['withdraw_fees(uint64)void'] | DualstakeFarmArgs['tuple']['withdraw_fees(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.withdrawFees(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['withdraw_fees(uint64)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `optout(asset)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    optout: async (params: CallParams<DualstakeFarmArgs['obj']['optout(asset)void'] | DualstakeFarmArgs['tuple']['optout(asset)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.optout(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['optout(asset)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `update_max_duration_days(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    updateMaxDurationDays: async (params: CallParams<DualstakeFarmArgs['obj']['update_max_duration_days(uint64)void'] | DualstakeFarmArgs['tuple']['update_max_duration_days(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.updateMaxDurationDays(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['update_max_duration_days(uint64)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `update_min_duration_blocks(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    updateMinDurationBlocks: async (params: CallParams<DualstakeFarmArgs['obj']['update_min_duration_blocks(uint64)void'] | DualstakeFarmArgs['tuple']['update_min_duration_blocks(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.updateMinDurationBlocks(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['update_min_duration_blocks(uint64)void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `get_state(application)(uint64,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getState: async (params: CallParams<DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.getState(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['get_state(application)(uint64,uint64,uint64,uint64)'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `log_states(uint64[])void` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    logStates: async (params: CallParams<DualstakeFarmArgs['obj']['log_states(uint64[])void'] | DualstakeFarmArgs['tuple']['log_states(uint64[])void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.logStates(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['log_states(uint64[])void'])}
    },

    /**
     * Makes a call to the DualstakeFarm smart contract using the `log_block_proposers(uint64,uint64)void` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    logBlockProposers: async (params: CallParams<DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void'] | DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(DualstakeFarmParamsFactory.logBlockProposers(params))
      return {...result, return: result.return as unknown as (undefined | DualstakeFarmReturns['log_block_proposers(uint64,uint64)void'])}
    },

  }

  /**
   * Clone this app client with different params
   *
   * @param params The params to use for the the cloned app client. Omit a param to keep the original value. Set a param to override the original value. Setting to undefined will clear the original value.
   * @returns A new app client with the altered params
   */
  public clone(params: CloneAppClientParams) {
    return new DualstakeFarmClient(this.appClient.clone(params))
  }

  /**
   * Makes a readonly (simulated) call to the DualstakeFarm smart contract using the `get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getAlgoCost(params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']>) {
    const result = await this.appClient.send.call(DualstakeFarmParamsFactory.getAlgoCost(params))
    return result.return as unknown as DualstakeFarmReturns['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']
  }

  /**
   * Makes a readonly (simulated) call to the DualstakeFarm smart contract using the `get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getAlgoCostAndMaxDuration(params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']>) {
    const result = await this.appClient.send.call(DualstakeFarmParamsFactory.getAlgoCostAndMaxDuration(params))
    return result.return as unknown as DualstakeFarmReturns['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']
  }

  /**
   * Makes a readonly (simulated) call to the DualstakeFarm smart contract using the `get_state(application)(uint64,uint64,uint64,uint64)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getState(params: CallParams<DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']>) {
    const result = await this.appClient.send.call(DualstakeFarmParamsFactory.getState(params))
    return result.return as unknown as DualstakeFarmReturns['get_state(application)(uint64,uint64,uint64,uint64)']
  }

  /**
   * Makes a readonly (simulated) call to the DualstakeFarm smart contract using the `log_states(uint64[])void` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async logStates(params: CallParams<DualstakeFarmArgs['obj']['log_states(uint64[])void'] | DualstakeFarmArgs['tuple']['log_states(uint64[])void']>) {
    const result = await this.appClient.send.call(DualstakeFarmParamsFactory.logStates(params))
    return result.return as unknown as DualstakeFarmReturns['log_states(uint64[])void']
  }

  /**
   * Makes a readonly (simulated) call to the DualstakeFarm smart contract using the `log_block_proposers(uint64,uint64)void` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async logBlockProposers(params: CallParams<DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void'] | DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']>) {
    const result = await this.appClient.send.call(DualstakeFarmParamsFactory.logBlockProposers(params))
    return result.return as unknown as DualstakeFarmReturns['log_block_proposers(uint64,uint64)void']
  }

  /**
   * Methods to access state for the current DualstakeFarm app
   */
  state = {
    /**
     * Methods to access global state for the current DualstakeFarm app
     */
    global: {
      /**
       * Get all current keyed values from global state
       */
      getAll: async (): Promise<Partial<Expand<GlobalKeysState>>> => {
        const result = await this.appClient.state.global.getAll()
        return {
          manager: new BinaryStateValue(result.manager),
          maxDurationDays: result.max_duration_days,
          minDurationBlocks: result.min_duration_blocks,
          txnFuel: result.txn_fuel,
        }
      },
      /**
       * Get the current value of the manager key in global state
       */
      manager: async (): Promise<BinaryState> => { return new BinaryStateValue((await this.appClient.state.global.getValue("manager")) as Uint8Array | undefined) },
      /**
       * Get the current value of the max_duration_days key in global state
       */
      maxDurationDays: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("max_duration_days")) as bigint | undefined },
      /**
       * Get the current value of the min_duration_blocks key in global state
       */
      minDurationBlocks: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("min_duration_blocks")) as bigint | undefined },
      /**
       * Get the current value of the txn_fuel key in global state
       */
      txnFuel: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("txn_fuel")) as bigint | undefined },
    },
  }

  public newGroup(): DualstakeFarmComposer {
    const client = this
    const composer = this.algorand.newGroup()
    let promiseChain:Promise<unknown> = Promise.resolve()
    const resultMappers: Array<undefined | ((x: ABIReturn | undefined) => any)> = []
    return {
      /**
       * Add a get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64) method call against the DualstakeFarm contract
       */
      getAlgoCost(params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getAlgoCost(params)))
        resultMappers.push((v) => client.decodeReturnValue('get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)', v))
        return this
      },
      /**
       * Add a get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64) method call against the DualstakeFarm contract
       */
      getAlgoCostAndMaxDuration(params: CallParams<DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getAlgoCostAndMaxDuration(params)))
        resultMappers.push((v) => client.decodeReturnValue('get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)', v))
        return this
      },
      /**
       * Add a create_farm(application,asset,uint64,uint64)void method call against the DualstakeFarm contract
       */
      createFarm(params: CallParams<DualstakeFarmArgs['obj']['create_farm(application,asset,uint64,uint64)void'] | DualstakeFarmArgs['tuple']['create_farm(application,asset,uint64,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.createFarm(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a extend_duration_blocks(application,uint64)void method call against the DualstakeFarm contract
       */
      extendDurationBlocks(params: CallParams<DualstakeFarmArgs['obj']['extend_duration_blocks(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_duration_blocks(application,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.extendDurationBlocks(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a extend_amount_per_block(application,uint64)void method call against the DualstakeFarm contract
       */
      extendAmountPerBlock(params: CallParams<DualstakeFarmArgs['obj']['extend_amount_per_block(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_amount_per_block(application,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.extendAmountPerBlock(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a payout(application,uint64,bool)void method call against the DualstakeFarm contract
       */
      payout(params: CallParams<DualstakeFarmArgs['obj']['payout(application,uint64,bool)void'] | DualstakeFarmArgs['tuple']['payout(application,uint64,bool)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.payout(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a noop()void method call against the DualstakeFarm contract
       */
      noop(params: CallParams<DualstakeFarmArgs['obj']['noop()void'] | DualstakeFarmArgs['tuple']['noop()void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.noop(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a withdraw_fees(uint64)void method call against the DualstakeFarm contract
       */
      withdrawFees(params: CallParams<DualstakeFarmArgs['obj']['withdraw_fees(uint64)void'] | DualstakeFarmArgs['tuple']['withdraw_fees(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.withdrawFees(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a optout(asset)void method call against the DualstakeFarm contract
       */
      optout(params: CallParams<DualstakeFarmArgs['obj']['optout(asset)void'] | DualstakeFarmArgs['tuple']['optout(asset)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.optout(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a update_max_duration_days(uint64)void method call against the DualstakeFarm contract
       */
      updateMaxDurationDays(params: CallParams<DualstakeFarmArgs['obj']['update_max_duration_days(uint64)void'] | DualstakeFarmArgs['tuple']['update_max_duration_days(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.updateMaxDurationDays(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a update_min_duration_blocks(uint64)void method call against the DualstakeFarm contract
       */
      updateMinDurationBlocks(params: CallParams<DualstakeFarmArgs['obj']['update_min_duration_blocks(uint64)void'] | DualstakeFarmArgs['tuple']['update_min_duration_blocks(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.updateMinDurationBlocks(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a get_state(application)(uint64,uint64,uint64,uint64) method call against the DualstakeFarm contract
       */
      getState(params: CallParams<DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getState(params)))
        resultMappers.push((v) => client.decodeReturnValue('get_state(application)(uint64,uint64,uint64,uint64)', v))
        return this
      },
      /**
       * Add a log_states(uint64[])void method call against the DualstakeFarm contract
       */
      logStates(params: CallParams<DualstakeFarmArgs['obj']['log_states(uint64[])void'] | DualstakeFarmArgs['tuple']['log_states(uint64[])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.logStates(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a log_block_proposers(uint64,uint64)void method call against the DualstakeFarm contract
       */
      logBlockProposers(params: CallParams<DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void'] | DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.logBlockProposers(params)))
        resultMappers.push(undefined)
        return this
      },
      get update() {
        return {
          bare: (params?: AppClientBareCallParams & AppClientCompilationParams ) => {
            promiseChain = promiseChain.then(async () => composer.addAppUpdate(await client.params.update.bare(params)))
            return this
          },
        }
      },
      get delete() {
        return {
          bare: (params?: AppClientBareCallParams ) => {
            promiseChain = promiseChain.then(() => composer.addAppDelete(client.params.delete.bare(params)))
            return this
          },
        }
      },
      /**
       * Add a clear state call to the DualstakeFarm contract
       */
      clearState(params: AppClientBareCallParams) {
        promiseChain = promiseChain.then(() => composer.addAppCall(client.params.clearState(params)))
        return this
      },
      addTransaction(txn: Transaction, signer?: TransactionSigner) {
        promiseChain = promiseChain.then(() => composer.addTransaction(txn, signer))
        return this
      },
      async composer() {
        await promiseChain
        return composer
      },
      async simulate(options?: SimulateOptions) {
        await promiseChain
        const result = await (!options ? composer.simulate() : composer.simulate(options))
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      },
      async send(params?: SendParams) {
        await promiseChain
        const result = await composer.send(params)
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      }
    } as unknown as DualstakeFarmComposer
  }
}
export type DualstakeFarmComposer<TReturns extends [...any[]] = []> = {
  /**
   * Calls the get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64) ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getAlgoCost(params?: CallParams<DualstakeFarmArgs['obj']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['get_algo_cost(application,asset,uint64)(uint64,uint64,uint64,uint64)'] | undefined]>

  /**
   * Calls the get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64) ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getAlgoCostAndMaxDuration(params?: CallParams<DualstakeFarmArgs['obj']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['get_algo_cost_and_max_duration(application,asset,uint64)(uint64,uint64,uint64,uint64,uint64)'] | undefined]>

  /**
   * Calls the create_farm(application,asset,uint64,uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  createFarm(params?: CallParams<DualstakeFarmArgs['obj']['create_farm(application,asset,uint64,uint64)void'] | DualstakeFarmArgs['tuple']['create_farm(application,asset,uint64,uint64)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['create_farm(application,asset,uint64,uint64)void'] | undefined]>

  /**
   * Calls the extend_duration_blocks(application,uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  extendDurationBlocks(params?: CallParams<DualstakeFarmArgs['obj']['extend_duration_blocks(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_duration_blocks(application,uint64)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['extend_duration_blocks(application,uint64)void'] | undefined]>

  /**
   * Calls the extend_amount_per_block(application,uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  extendAmountPerBlock(params?: CallParams<DualstakeFarmArgs['obj']['extend_amount_per_block(application,uint64)void'] | DualstakeFarmArgs['tuple']['extend_amount_per_block(application,uint64)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['extend_amount_per_block(application,uint64)void'] | undefined]>

  /**
   * Calls the payout(application,uint64,bool)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  payout(params?: CallParams<DualstakeFarmArgs['obj']['payout(application,uint64,bool)void'] | DualstakeFarmArgs['tuple']['payout(application,uint64,bool)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['payout(application,uint64,bool)void'] | undefined]>

  /**
   * Calls the noop()void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  noop(params?: CallParams<DualstakeFarmArgs['obj']['noop()void'] | DualstakeFarmArgs['tuple']['noop()void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['noop()void'] | undefined]>

  /**
   * Calls the withdraw_fees(uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  withdrawFees(params?: CallParams<DualstakeFarmArgs['obj']['withdraw_fees(uint64)void'] | DualstakeFarmArgs['tuple']['withdraw_fees(uint64)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['withdraw_fees(uint64)void'] | undefined]>

  /**
   * Calls the optout(asset)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  optout(params?: CallParams<DualstakeFarmArgs['obj']['optout(asset)void'] | DualstakeFarmArgs['tuple']['optout(asset)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['optout(asset)void'] | undefined]>

  /**
   * Calls the update_max_duration_days(uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  updateMaxDurationDays(params?: CallParams<DualstakeFarmArgs['obj']['update_max_duration_days(uint64)void'] | DualstakeFarmArgs['tuple']['update_max_duration_days(uint64)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['update_max_duration_days(uint64)void'] | undefined]>

  /**
   * Calls the update_min_duration_blocks(uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  updateMinDurationBlocks(params?: CallParams<DualstakeFarmArgs['obj']['update_min_duration_blocks(uint64)void'] | DualstakeFarmArgs['tuple']['update_min_duration_blocks(uint64)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['update_min_duration_blocks(uint64)void'] | undefined]>

  /**
   * Calls the get_state(application)(uint64,uint64,uint64,uint64) ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getState(params?: CallParams<DualstakeFarmArgs['obj']['get_state(application)(uint64,uint64,uint64,uint64)'] | DualstakeFarmArgs['tuple']['get_state(application)(uint64,uint64,uint64,uint64)']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['get_state(application)(uint64,uint64,uint64,uint64)'] | undefined]>

  /**
   * Calls the log_states(uint64[])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  logStates(params?: CallParams<DualstakeFarmArgs['obj']['log_states(uint64[])void'] | DualstakeFarmArgs['tuple']['log_states(uint64[])void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['log_states(uint64[])void'] | undefined]>

  /**
   * Calls the log_block_proposers(uint64,uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  logBlockProposers(params?: CallParams<DualstakeFarmArgs['obj']['log_block_proposers(uint64,uint64)void'] | DualstakeFarmArgs['tuple']['log_block_proposers(uint64,uint64)void']>): DualstakeFarmComposer<[...TReturns, DualstakeFarmReturns['log_block_proposers(uint64,uint64)void'] | undefined]>

  /**
   * Gets available delete methods
   */
  readonly delete: {
    /**
     * Deletes an existing instance of the DualstakeFarm smart contract using a bare call.
     *
     * @param args The arguments for the bare call
     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
     */
    bare(params?: AppClientBareCallParams ): DualstakeFarmComposer<[...TReturns, undefined]>
  }

  /**
   * Gets available update methods
   */
  readonly update: {
    /**
     * Updates an existing instance of the DualstakeFarm smart contract using a bare call.
     *
     * @param args The arguments for the bare call
     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
     */
    bare(params?: AppClientBareCallParams ): DualstakeFarmComposer<[...TReturns, undefined]>
  }

  /**
   * Makes a clear_state call to an existing instance of the DualstakeFarm smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  clearState(params?: AppClientBareCallParams): DualstakeFarmComposer<[...TReturns, undefined]>

  /**
   * Adds a transaction to the composer
   *
   * @param txn A transaction to add to the transaction group
   * @param signer The optional signer to use when signing this transaction.
   */
  addTransaction(txn: Transaction, signer?: TransactionSigner): DualstakeFarmComposer<TReturns>
  /**
   * Returns the underlying AtomicTransactionComposer instance
   */
  composer(): Promise<TransactionComposer>
  /**
   * Simulates the transaction group and returns the result
   */
  simulate(): Promise<DualstakeFarmComposerResults<TReturns> & { simulateResponse: SimulateResponse }>
  simulate(options: SkipSignaturesSimulateOptions): Promise<DualstakeFarmComposerResults<TReturns> & { simulateResponse: SimulateResponse }>
  simulate(options: RawSimulateOptions): Promise<DualstakeFarmComposerResults<TReturns> & { simulateResponse: SimulateResponse }>
  /**
   * Sends the transaction group to the network and returns the results
   */
  send(params?: SendParams): Promise<DualstakeFarmComposerResults<TReturns>>
}
export type DualstakeFarmComposerResults<TReturns extends [...any[]]> = Expand<SendAtomicTransactionComposerResults & {
  returns: TReturns
}>

